[
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Projects + Blog",
    "section": "",
    "text": "Agri-food Emissions in USA and China\n\n\n\nQuarto\n\n\nMEDS\n\n\nStats\n\n\nR\n\n\nPortfolio\n\n\nData Visualization\n\n\nggplot2\n\n\nInfographic\n\n\n\nData visualization and infographic development for agri-food carbon dioxide emissions in USA and China from 1990-2020 using IPCC and FAO data from Kaggle\n\n\n\nAnna Ramji\n\n\nMar 9, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nCalifornia Spiny Lobsters & Reef Bottom Temperatures\n\n\n\nQuarto\n\n\nMEDS\n\n\nStats\n\n\nR\n\n\nPortfolio\n\n\nMarine\n\n\n\nStatistical analysis and data visualization of CA Spiny Lobster data from 5 Santa Barbara Coastal LTER Reef sites\n\n\n\nAnna Ramji\n\n\nDec 17, 2023\n\n\n\n\n\n\n\n\n\n\n\n\n2021 Texas Power Crisis: Blackout Impact Analysis\n\n\n\nQuarto\n\n\nMEDS\n\n\nGeospatial\n\n\nR\n\n\ntmap\n\n\nggplot2\n\n\n\nAnalyzing VIIRS Night Lights data and U.S. Census data for assessing impact on Houston metropolitan area\n\n\n\nAnna Ramji\n\n\nDec 17, 2023\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThomas Fire\n\n\n\nQuarto\n\n\nMEDS\n\n\nPython\n\n\nGeospatial\n\n\n\nData analysis of AQI and Landsat data related to the Thomas Fire\n\n\n\nAnna Ramji\n\n\nDec 13, 2023\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "practice-markdown.html",
    "href": "practice-markdown.html",
    "title": "Here is my level one header",
    "section": "",
    "text": "Here is my level one header\nHere is my first paragraph\nHere is my second paragraph, where you can read more about MEDS.\nThis is very important text!"
  },
  {
    "objectID": "blog/thomas-fire/thomas-fire-analysis-blog.html",
    "href": "blog/thomas-fire/thomas-fire-analysis-blog.html",
    "title": "Thomas Fire",
    "section": "",
    "text": "This notebook is part of my Thomas Fire analysis github repository\n\n\nImage credits: American Academy of Pediatrics Disaster Preparedness website"
  },
  {
    "objectID": "blog/thomas-fire/thomas-fire-analysis-blog.html#importing-data",
    "href": "blog/thomas-fire/thomas-fire-analysis-blog.html#importing-data",
    "title": "Thomas Fire",
    "section": "Importing Data",
    "text": "Importing Data\n\n\nCode\n#======= AQI Data for 2017-2018 =======#\n\n# reading in data using the download links in EPA's AQS data (cited in the About section)\n\n# reading in 2017 county-level AQI data  \naqi_17 = pd.read_csv('https://aqs.epa.gov/aqsweb/airdata/daily_aqi_by_county_2017.zip')\n\n# reading in 2018 county-level AQI data\naqi_18 = pd.read_csv('https://aqs.epa.gov/aqsweb/airdata/daily_aqi_by_county_2018.zip')\n\n\n#=====(pre-processed) Landsat Data =====#\n\n# setting file path for landsat data (NetCDF file),\n# using os() for multi-operating system compatibility\nlandsat_fp = os.path.join(os.getcwd(), 'data', 'landsat8-2018-01-26-sb-simplified.nc')\n\n#  importing the landsat data it with rioxarray\nlandsat = rioxr.open_rasterio(landsat_fp)\n\n\n# ======= California Fire Borders ======= #\n\n# setting file path for CA Fire Perimeters data, \n# using os() for multi-operating system compatibility\nca_fp = os.path.join(os.getcwd(), 'data', 'California_Fire_Perimeters_2017', 'California_Fire_Perimeters_2017.shp')\n\n# importing the CA Fire Perimeters 2017 shapefile from our filepath using geopandas\nca_fires = gpd.read_file(ca_fp)"
  },
  {
    "objectID": "blog/thomas-fire/thomas-fire-analysis-blog.html#aqi-data-analysis-visualization",
    "href": "blog/thomas-fire/thomas-fire-analysis-blog.html#aqi-data-analysis-visualization",
    "title": "Thomas Fire",
    "section": "AQI Data Analysis & Visualization",
    "text": "AQI Data Analysis & Visualization\nWe could just go straight to plotting our AQI data over time in Santa Barbara County, but it would be interesting to also show a 5-day rolling average plotted on top of it.\nIn order to make our data visualization more legible, we can compute a rolling average of our AQI over time and add that as a column for our analysis.\n\nrolling() is a method for pandas.series that provides rolling window calculations\nthe parameter '5D' indicates we want the window to be 5 days\nThis is a lazy method (think groupby), so we need to specify what we want to calculate over each window\nwe’ll also use the aggregator function mean()\n\nthis indicates that we want the mean over each window\n\n\n\n\nCode\n# computing a 5-day rolling average of AQI \n# and inserting it as a new column at the end of the dataframe\naqi_sb.insert(loc = 5,\n             column = \"five_day_average\",\n             value = aqi_sb.aqi.rolling('5D').mean())\n\n\nGreat! Now we can make a line plot showing both the daily AQI and the 5-day average (5-day average on top of the AQI), using matplotlib\n\n\nCode\n# plotting our daily aqi and five day rolling average aqi on one plot\n\nfig, ax = plt.subplots(figsize=(9,7))\n\naqi_sb.plot(ax=ax,\n            y = ['aqi', 'five_day_average'], # selecting two variables for my y-axis to auto-generate a legend\n            title = \"Daily AQI and 5-day average 2017-2018\", # updating title\n            xlabel = 'Date', # Updating x-axis label\n            ylabel = \"AQI\", # updating y-axis label\n            color = {'aqi': 'lime', # customizing colors\n                     'five_day_average':'blue'\n                    }\n           )\n\n\n&lt;AxesSubplot:title={'center':'Daily AQI and 5-day average 2017-2018'}, xlabel='Date', ylabel='AQI (PM 2.5)'&gt;\n\n\n\n\n\nNote: we can see a huge spike at December, 2017. This is when the Thomas Fire occurred."
  },
  {
    "objectID": "blog/agrifood-emissions-viz/index.html",
    "href": "blog/agrifood-emissions-viz/index.html",
    "title": "Agri-food Emissions in USA and China",
    "section": "",
    "text": "For this infographic, I used a dataset from Kaggle user Alessandro Lo Bello called Agri-food CO2 emission dataset - Forecasting ML (from Kaggle). I found this dataset while searching for datasets that incorporated agriculture, climate change, and population data over time, as I was interested in creating visualizations about how agriculture and food sector emissions have changed over time.\n\nSummaryVariable descriptions\n\n\nThis dataset contains variables on emissions relating to the agri-food system, from crop cultivation and residue to food transportation and retail, as well as types of fires and soil-related emissions; year; country; demographic variables about urban, rural, and total population; average temperature (ºC). In my analysis, I primarily use the country, year, total emissions, and 10 of the emissions variables. I also use the “total population male” and “total population female” columns to create a total population column, which I then use to create an emissions per capita column.\n\n\n\nSavanna fires: Emissions from fires in savanna ecosystems.\nForest fires: Emissions from fires in forested areas.\nCrop Residues: Emissions from burning or decomposing leftover plant material after crop harvesting.\nRice Cultivation: Emissions from methane released during rice cultivation.\nDrained organic soils (CO2): Emissions from carbon dioxide released when draining organic soils.\nPesticides Manufacturing: Emissions from the production of pesticides.\nFood Transport: Emissions from transporting food products.\nForestland: Land covered by forests.\nNet Forest conversion: Change in forest area due to deforestation and afforestation.\nFood Household Consumption: Emissions from food consumption at the household level.\nFood Retail: Emissions from the operation of retail establishments selling food.\nOn-farm Electricity Use: Electricity consumption on farms.\nFood Packaging: Emissions from the production and disposal of food packaging materials.\nAgrifood Systems Waste Disposal: Emissions from waste disposal in the agrifood system.\nFood Processing: Emissions from processing food products.\nFertilizers Manufacturing: Emissions from the production of fertilizers.\nIPPU: Emissions from industrial processes and product use.\nManure applied to Soils: Emissions from applying animal manure to agricultural soils.\nManure left on Pasture: Emissions from animal manure on pasture or grazing land.\nManure Management: Emissions from managing and treating animal manure.\nFires in organic soils: Emissions from fires in organic soils.\nFires in humid tropical forests: Emissions from fires in humid tropical forests.\nOn-farm energy use: Energy consumption on farms.\nRural population: Number of people living in rural areas.\nUrban population: Number of people living in urban areas.\nTotal Population - Male: Total number of male individuals in the population.\nTotal Population - Female: Total number of female individuals in the population.\ntotal_emission: Total greenhouse gas emissions from various sources.\nAverage Temperature °C: The average increasing of temperature (by year) in degrees Celsius.\n\n\n\n\n\n\n\nWhen I first started this project, I wanted to look at global agri-food emissions as well as the economic freedom index that each country was associated with. As you can imagine, the two datasets were not compatible to start out with, so I spent about 12 hours just wrangling the data and getting everything to be able to play nicely together (think: renaming 112 countries). Ultimately, incorporating the economic freedom data felt beyond the scope of what I could visualize in an infographic targeted at a very general audience, so I scrapped that idea (and my many hours of work) and decided to focus on the United States of America and mainland China. That being said, my data wrangling work prepared me well to work with either dataset, and increased my gratitude at the simplicity of working with one while building my exposure to how differently some datasets label countries.\n\n\n\nIn my initial data exploration, I found that USA and China are two of the highest emitters of agri-food carbon dioxide emissions worldwide. China and USA are also the top two countries in terms of total emissions, contributing roughly 25.69% and 12.10% of the world’s total emissions, respectively ClimateTrace. Agri-food (combining different emissions sources relating to agriculture and the food industry, from land use change to food retail and beyond) emissions make up a significant portion of all greenhouse gas (GHG) emissions – around 13% of total emissions (in CO2 equivalent) according to ClimateTrace.\nAs two of the biggest countries (in terms of economic power, area, political influence, etc.) in the world, their trends and decisions have historically influenced international climate targets and agreements Office of the Press Secretary, 2016. A disappointing pre-COP28 meeting between President Biden and President Xi Jinping reminded me of how frustrating I find these non-committal agreements, carefully crafted to be politic Gelles, 2023, Sanger & Rogers, 2023.\nAs climate change does not wait for global leaders to come to agreements, I decided to move on and focus on the task at hand: creating visualizations using my chosen data set to answer primary and subsequent questions.\n\n\n\nPrimary Question: How have agri-food CO2 emissions changed over time in USA and mainland China?\nSub-questions:\n\nHow have total agri-food CO2 emissions changed over time in USA vs. China?\nHow have agri-food CO2 emissions per capita changed over time in USA vs. China?\nWhat are the key contributors (emissions sources) to agri-food CO2 emissions in 1990 in USA and China, and how do they compare to the top agri-food emissions sources in 2020?\n\nI ultimately address the first two questions in two line plot visualizations that I stitch together using patchwork, and address the third question in a lollipop plot, indicating different years as different colors."
  },
  {
    "objectID": "blog/agrifood-emissions-viz/index.html#guiding-questions",
    "href": "blog/agrifood-emissions-viz/index.html#guiding-questions",
    "title": "Agri-food Emissions in USA and China",
    "section": "",
    "text": "Primary Question: How have agri-food CO2 emissions changed over time in USA and mainland China?\nSub-questions:\n\nHow have total agri-food CO2 emissions changed over time in USA vs. China?\nHow have agri-food CO2 emissions per capita changed over time in USA vs. China?\nWhat are the key contributors (emissions sources) to agri-food CO2 emissions in 1990 in USA and China, and how do they compare to the top agri-food emissions sources in 2020?\n\nI ultimately address the first two questions in two line plot visualizations that I stitch together using patchwork, and address the third question in a lollipop plot, indicating different years as different colors."
  },
  {
    "objectID": "blog/agrifood-emissions-viz/index.html#setup",
    "href": "blog/agrifood-emissions-viz/index.html#setup",
    "title": "Agri-food Emissions in USA and China",
    "section": "Setup",
    "text": "Setup\n\n\nCode\nknitr::opts_chunk$set(echo = TRUE, eval = FALSE, warning = FALSE, message = FALSE)\n\n\n\n\nCode\nlibrary(\"tidyverse\") # for tidy everything! (data cleaning, wrangling)\nlibrary(\"here\") # for reproducible file paths\nlibrary(\"showtext\") \nlibrary(\"janitor\") # used to clean column names\nlibrary(\"patchwork\") # to stitch plots together \nlibrary(\"glue\") # for scientific labeling on plots \nlibrary(\"scales\") # provides the internal scaling infrastructure used by ggplot2, and gives you tools to override the default breaks, labels, transformations and palettes (installed automatically with {ggplot2} or {tidyverse})\nlibrary(\"ggtext\") # used for customizing plot text\n\n# import custom fonts from Google Fonts\nfont_add_google(name = \"Playfair Display\", family = \"playfair\")\nfont_add_google(name = \"Raleway\", family = \"raleway\")\n\n#................enable {showtext} for rendering.................\nshowtext_auto()\n\n\n\nData access\nYou can download the data from Kaggle or copy the download link and read it in without having to download locally.\n\n\nCode\nagrifood_emissions &lt;- read_csv(here(\"data\", \"Agrofood_co2_emission.csv\"))\n\n# alternatively\n#agrifood_emissions &lt;- read_csv(\"https://www.kaggle.com/datasets/alessandrolobello/agri-food-co2-emission-dataset-forecasting-ml/download?datasetVersionNumber=1\")"
  },
  {
    "objectID": "blog/agrifood-emissions-viz/index.html#data-wrangling",
    "href": "blog/agrifood-emissions-viz/index.html#data-wrangling",
    "title": "Agri-food Emissions in USA and China",
    "section": "Data Wrangling",
    "text": "Data Wrangling\n\n\nCode\n# =========== Tidying & wrangling data =================\nag_clean &lt;- agrifood_emissions |&gt; \n  janitor::clean_names() |&gt;  # the column names are not tidy, so I'll start out by renaming them to lower_snake_case()\n  \n  # the column names are also quite long, though informative, so I'll rename a few of them to more easily referable titles \n  rename(country = area, \n         avg_temp_c = average_temperature_c,\n         total_emissions = total_emission, # plurals are always so tricky to keep track of, but \"emissions\" feels more natural than \"emission\"\n         urban_pop = urban_population,\n         rural_pop = rural_population,\n         agfood_waste_disposal = agrifood_systems_waste_disposal) |&gt; \n  # adding a total population column\n  mutate(total_pop = (total_population_male + total_population_female)) |&gt; \n  # making a proportion column to theoretically compare/standardize emissions per capita\n  mutate(emissions_per_capita = (total_emissions / total_pop))\n\n# ========== Renaming country names ====================================\n# dplyr already has a rename function, but I wanted to get more practice developing my own functions... sometimes reinventing the wheel is a good way to learn how the wheel works!\n\nrename_function &lt;- function(df, column, old_name, new_name) {\n  # using the specified dataframe\n  df |&gt; \n    # mutate across the specified column\n    mutate(across(column,\n                  str_replace, # use the str_replace function\n                  pattern = old_name, # find the string pattern old_name\n                  replacement = new_name)) # replace with new_name\n}\n\n\n# renaming agri-food emissions countries (China, USA) ----\nag_renamed &lt;- ag_clean |&gt; \n  rename_function(\"country\", \"China, Hong Kong SAR\", \"Hong Kong\") |&gt; \n  rename_function(\"country\", \"China, Taiwan Province of\", \"Taiwan\") |&gt; \n  rename_function(\"country\", \"China, mainland\", \"China (mainland)\") |&gt; \n  rename_function(\"country\", \"United States of America\", \"USA\") \n\n\n# =============== Creating subsets ==================================\n\n# United States of America Subset\nusa &lt;- ag_renamed |&gt; \n  filter(country %in% c(\"USA\"))\n\n# China Subset \nchina &lt;- ag_renamed |&gt; \n  filter(country %in% c(\"China (mainland)\"))\n\n# USA & China Subset \nusa_china &lt;- ag_renamed |&gt; \n  filter(country %in% c(\"China (mainland)\", \"USA\"))\n\n# USA 2020 \nusa_2020 &lt;- usa |&gt; \n  filter(year %in% c(2020))\n\n# China 2020\nchina_2020 &lt;- china |&gt; \n  filter(year %in% c(2020))\n\n# USA & China in 1990, 2020\nusa_china_90_20 &lt;- usa_china |&gt; \n  filter(year %in% c(1990, 2020))\n\n# Average emissions across entire dataset\n# I used this to obtain a value for a caption in my per capita emissions plot\nall_avg_emissions &lt;- ag_clean |&gt; \n  group_by(year) |&gt; \n  summarize(avg_tot_emissions = mean(total_emissions,\n                                     na.rm = TRUE),\n            avg_per_cap_emissions = mean(emissions_per_capita,\n                                         na.rm = TRUE)) |&gt; \n  mutate(country = \"Global Average\")\n\n\n# =========== Lollipop plot subsetting and wrangling =========================\n# I'm comparing emissions levels from selected sources in 1990 and 2020\nusa_china_subset &lt;- usa_china_90_20 |&gt; \n  # manually deselecting lower emissions columns\n  # note: one of the highest sources, \"IPPU: Emissions from industrial processes and product use.\" had poor documentation and explanation of what was encompassed in this variable, so I did not include it in my visualization\n  select(-c(forestland, fires_in_organic_soils,\n            fires_in_humid_tropical_forests,\n            savanna_fires, forest_fires,\n            drained_organic_soils_co2, \n            pesticides_manufacturing,\n            manure_applied_to_soils,\n            crop_residues\n            )) |&gt; \n  # pivot all columns other than this specified list \n  pivot_longer(cols = -c(country, year, rural_pop,\n                         urban_pop, total_population_male,\n                         total_population_female, total_pop,\n                         avg_temp_c, emissions_per_capita,\n                         total_emissions, ippu),\n               names_to = \"emission_source\", # new column name for types\n               values_to = \"emissions_kt\") |&gt;  # new column name for values\n  # relocate for easier quick-reading \n  relocate(c(emission_source, emissions_kt), .after = year) |&gt; \n  group_by(country, year)\n\n\n# create year subsets to plot\nusa_china_dumb &lt;- usa_china_subset |&gt;\n  select(country, emission_source, year, emissions_kt) |&gt; \n  ungroup() |&gt;\n  group_by(country) |&gt;\n  # using pivot_wider to create two new emissions_year columns contianing the appropriate values from the emissions_kt column\n  pivot_wider(names_from = year,\n              values_from = emissions_kt,\n              names_prefix = \"emissions_\") |&gt;\n  # relocating these columns for more logical previewing\n  relocate(c(emissions_1990, emissions_2020), .after = emission_source)"
  },
  {
    "objectID": "blog/agrifood-emissions-viz/index.html#total-emissions-and-per-capita-emissions-over-time",
    "href": "blog/agrifood-emissions-viz/index.html#total-emissions-and-per-capita-emissions-over-time",
    "title": "Agri-food Emissions in USA and China",
    "section": "Total Emissions and Per Capita Emissions Over Time",
    "text": "Total Emissions and Per Capita Emissions Over Time\nTo answer my first two sub-questions (How have total agri-food CO2 emissions changed over time in USA vs. China? How have agri-food CO2 emissions per capita changed over time in USA vs. China?) I created a combined plot showing both total and per capita agri-food CO2 emissions over time in USA and China.\nI first created a total emissions plot, comparing the yearly total agri-food CO2 emissions of USA and mainland China from 1990-2020 (the full year range of my dataset), using the total_population column I created in my data wrangling steps above. Several portions of the following code are commented out, as I removed certain design elements for the combined patchwork plot (caption, titles, etc.) that would be redundant or that I wanted to specify after combining my plots.\n\n\nCode\n# I'm using the glue package and html formatting to get the subscripts for CO2 in my title and y-axis labels here\ntitle_lab_p1 &lt;- glue::glue(\"Total Agri-food CO&lt;sub&gt;2&lt;/sub&gt; Emissions in USA and China (1990-2020)\")\ny_ax_label_total &lt;- glue::glue(\"Agri-food CO&lt;sub&gt;2&lt;/sub&gt; emissions (Million kt)*\")\ny_ax_label_per_cap &lt;- glue::glue(\"Agri-food CO&lt;sub&gt;2&lt;/sub&gt; emissions (kt)*\")\n\n# setting colors.... I used a colorpicker on the country flags to get these values\ncols &lt;- c(\"China (mainland)\" = \"#E7001D\", \"USA\" = \"#011951\")\n\n\nusa_china_tot_emissions_plot &lt;- ggplot() +\n  # geom_point() +\n  geom_line(data = usa_china,\n            aes(x = year,\n                y = total_emissions,\n                color = country,\n                linetype = country)) +\n  # rescaling y-axis to be more legible (than 2e+06, for example)\n  scale_y_continuous(label = label_number(accuracy = 1, \n                                          scale = 0.000001, # millions\n                                          suffix = \"M\")) +\n  scale_color_manual(values = cols) +\n  \n  # ---------- updating labels, fit for patchwork ------------\nlabs(\n  x = \"\", # removed for patchwork\n  y = y_ax_label_total,\n  # removed for patchwork\n#  title = \"Agri-food CO2 emissions in USA and China (1990-2020)\",\n# title = title_lab_p1,\n  subtitle = \"Total Emissions\", # for patchwork\n  #       caption = \"*1 kiloton (kt) = 1000 kg\",\n  color = \"Country\",\n  linetype = \"Country\") +\n  \n  theme_bw() +\n  \n  # ================== Theme ===================================\ntheme(\n  # removing most gridlines \n  panel.grid.minor.x = element_blank(),\n  panel.grid.major.x = element_blank(),\n  panel.grid.minor.y = element_blank(),\n  # lighter line color to emphasize trend over time\n  panel.grid.major.y = element_line(color = \"whitesmoke\"),\n  \n  # increasing spacing between plots\n #  panel.spacing.x = unit(1.5, \"lines\"),\n  # removing background color of faceted plot labels\n  strip.background = element_rect(fill = \"transparent\"),\n  \n  # adjusting legend position to sit within the plot \n  # legend.position = c(0.8, 0.2),\n  \n  # adjusting text elements of different plot components\n  strip.text = element_text(family = \"playfair\", size = 10),\n  \n  # ---------------- title ---------------------\n  plot.title.position = \"plot\",\n  # commented out for patchwork\n  # plot.title = ggtext::element_markdown(hjust = 0.45,\n  #                           vjust = 1,\n  #                           family = \"Futura\",\n  #                           face = \"bold\",\n  #                           size = 18\n              # it took a LOT of trial and error to get all of these margins set\n              # for each text element (title, substitle, caption, etc. for each plot)\n                            # margin = margin(t = 1, r = 2, \n                            #                 b = 1.2, l = 2,\n                            #                 unit = \"lines\")\n              \n  \n  # --------------- subtitle -------------------\n  \n  plot.subtitle = element_text(family = \"playfair\",\n                               face = \"bold\", \n                               size = 16,\n                               # adjusting positioning of text\n                               vjust = 1,\n                               hjust = 0.5,\n                               margin = margin(t = 0.2, r = 0, \n                                               b = 1, l = 0,\n                                               unit = \"lines\")),\n  \n  # --------------- legend ----------------------\n  legend.title = element_text(family = \"playfair\",\n                              face = \"bold\",\n                              size = 11),\n  #  legend.title.align = 0.5,\n  legend.text = element_text(family = \"raleway\",\n                             size = 11),\n  legend.position = c(0.18, 0.80),\n  \n  # --------------- x-axis ---------------------\n  axis.title.x = element_text(vjust = -1,\n                              family = \"playfair\",\n                              face = \"bold\",\n                              size = 12),\n  axis.text.x = element_text(\n    hjust = 0.9,\n  #  vjust = 0.9,\n    family = \"raleway\"),\n  \n  # --------------- y-axis ----------------------\n  axis.title.y = element_markdown(family = \"playfair\",\n                              vjust = 2,\n                              face = \"bold\",\n                              size = 12,\n                              # customize axis title margins/spacing\n                              margin = margin(t = 0, r = 1, \n                                              b = 0, l = 2,\n                                              unit = \"lines\")),\n  axis.text.y = element_text(family = \"raleway\"))\n\n# ------------- caption -----------------------\n# omitted for patchwork fit \n#   plot.caption.position = \"plot\",\n#   plot.caption = element_text(family = \"Futura\",\n#                               hjust = 0.9,\n#                               size = 10,\n#                               margin = margin(t = 3, b = 0.5,\n#                                               l = 0, r = 0.2,\n#                                               unit = \"lines\"))\n# )\n\n\n# usa_china_tot_emissions_plot\n\n\nTo answer my second subquestion, “How have agri-food CO2 emissions per capita changed over time in USA vs. China?“ I created a similar plot comparing emissions per capita, which I calculated using the total_emissions column and the total_population column I created earlier to make an emissions_per_capita column. I also commented out certain design elements that would be redundant once I made the patchwork plot, but didn’t fully delete them so that I could still render the individual components of the combined plot if I ever wanted to go back and show them separately.\n\n\nCode\n# ================ PER CAPITA PLOT =====================================\n\nusa_china_per_cap_plot &lt;- ggplot() +\n  geom_line(data = usa_china,\n            aes(x = year,\n                y = emissions_per_capita,\n                color = country,\n                linetype = country)) +\n  \n  # removed because it skews the y-scale too much \n  # adding global average line\n  #   geom_line(data = all_avg_emissions,\n  #             aes(x = year,\n  #                 y = avg_per_cap_emissions,\n  #                 color = country,\n  #                 linetype = country),\n  # #            linetype = \"longdash\",\n  #             linewidth = 0.5) +\n  \n\nscale_color_manual(values = cols) +\n  \n  # ------ updating labels, fit for patchwork ----------\n  labs(x = \"Year\", \n       y = y_ax_label_per_cap, # remove label for patchwork\n       # customized for patchwork\n       #       title = \"Agri-food CO2 emissions Per Capita\",\n       #       subtitle = \"in the USA and China (1990-2020)\",\n       subtitle = \"Emissions Per Capita\",\n     #  caption = \"*1 kiloton (kt) = 1000 kg \\n \\n Global Average Emissions Per Capita = 0.2 kt\",\n       color = \"\", # remove label for patchwork\n       linetype = \"\" # remove label for patchwork\n       ) +\n  guides(legend = \"none\") +\n  \n  theme_bw() +\n  \n  # ================== Theme ===============================\ntheme(\n  # removing most gridlines \n  panel.grid.minor.x = element_blank(),\n  panel.grid.major.x = element_blank(),\n  panel.grid.minor.y = element_blank(),\n  # lighter line color to emphasize trend over time\n  panel.grid.major.y = element_line(color = \"whitesmoke\"),\n  \n  # increasing spacing between plots\n  panel.spacing.x = unit(1.5, \"lines\"),\n  # removing background color of faceted plot labels\n  strip.background = element_rect(fill = \"transparent\"),\n  \n  # adjusting legend position to sit within the plot \n # legend.position = c(0.8, 0.2),\n  \n  # adjusting text elements of different plot components\n  strip.text = element_text(family = \"raleway\", size = 10),\n  \n  # ---------------- title ---------------------\n # omitted for patchwork\n  plot.title.position = \"plot\",\n  # plot.title = element_text(hjust = 0.45,\n  #                           vjust = 1,\n  #                           family = \"Futura\",\n  #                           face = \"bold\",\n  #                           size = 18),\n  \n  # --------------- subtitle -------------------\n  \n  plot.subtitle = element_text(family = \"playfair\",\n                               face = \"bold\", \n                               size = 16,\n                               vjust = 1,\n                               hjust = 0.5,\n                               margin = margin(t = 0.2, r = 0, \n                                               b = 1, l = 0,\n                                               unit = \"lines\")),\n  \n  # --------------- legend ----------------------\n  # removed for patchwork \n legend.position = \"none\", \n#   legend.title = element_text(family = \"Futura\",\n#                               face = \"bold\",\n#                               size = 11),\n# #  legend.title.align = 0.5,\n#   legend.text = element_text(family = \"Futura\",\n#                              size = 11),\n  \n  # --------------- x-axis ---------------------\n  axis.title.x = element_text(vjust = -1,\n                              family = \"playfair\",\n                              face = \"bold\",\n                              size = 12),\n  axis.text.x = element_text(\n                            # hjust = 0.9,\n                             vjust = 0.9,\n                             family = \"raleway\"),\n  \n  # --------------- y-axis ----------------------\n# remove for patchwork\n axis.title.y = element_markdown(\n                            family = \"playfair\",\n                            vjust = 2,\n                            face = \"bold\",\n                            size = 12,\n                            # customize title margins\n                            margin = margin(t = 0, r = 1,\n                                          b = 0, l = 2,\n                                          unit = \"lines\")),\n   axis.text.y = element_text(family = \"raleway\"),\n  \n  # ------------- caption -----------------------\n# removed for patchwork\n  # plot.caption.position = \"plot\",\n  # plot.caption = element_text(family = \"Futura\",\n  #                             hjust = 1,\n  #                             size = 10,\n  #                             margin = margin(t = 3, b = 0.5,\n  #                                             l = 0, r = 0,\n  #                                             unit = \"lines\"))\n)\n# usa_china_per_cap_plot\n\n\nI then combined these plots using patchwork , specifying an overall title, subtitle, and caption using plot_annotation to get this visualization:\n\n\nCode\n# combining plots using patchwork\nplot1 &lt;- usa_china_tot_emissions_plot / usa_china_per_cap_plot\n\n# adding plot annotations and theme arguments for the patchwork plot object (higher level annotations based on the combined plots)\nplot1 + plot_annotation(\n  title = glue::glue(\"How Have Agri-food CO&lt;sub&gt;2&lt;/sub&gt; Emissions Changed Over Time?\"),\n  subtitle = \"from 1990–2020\",\n  # adding line breaks in the combined plot caption using \\n\n  caption = \"*1 kiloton (kt) = 1000 kg \\n \\n Global Average Emissions Per Capita = 0.2 kt\",\n  # setting overall theme arguments for the combined plots\n  theme = theme(\n    # using element_markdown to get the subscript for CO2 to work\n    plot.title = ggtext::element_markdown(hjust = 0.5,\n                                          vjust = 1,\n                                          family = \"playfair\",\n                                          face = \"bold\",\n                                          size = 18,\n                                          margin = margin(t = 1, unit = \"lines\")),\n    # setting the plot subtitle arguments and spacing\n    # note: for my stitched plots, I set their \"titles\" as subtitles, so this argument here is now just applying to the subtitle I define in this same chunk, as it's wrapped in plot_annotation()\n    plot.subtitle = element_text(family = \"raleway\",\n                                 face = \"plain\", \n                                 size = 15,\n                                 vjust = 1,\n                                 hjust = 0.5,\n                                 margin = margin(t = 0.2, r = 0,\n                                                 b = 1, l = 0,\n                                                 unit = \"lines\")),\n    # adding an overall caption\n    plot.caption = element_text(family = \"raleway\",\n                              hjust = 1,\n                              size = 10,\n                              margin = margin(t = 3, b = 0.5,\n                                              l = 0, r = 0,\n                                              unit = \"lines\"))\n    ) # END THEME\n  ) # END PLOT ANNOTATION\n\n\n\nAlt-text: This plot shows two line plots: the top plot shows the trend in total agri-food carbon dioxide emissions per year from 1990 to 2020 in USA and mainland China, measured in million kilotons. China is depicted as a solid red line, and USA as a dashed dark blue line. The bottom plot shows the trend in per-capita agri-food carbon dioxide emissions in the same time scale, measured in kilotons. Overall, China shows a strong, positive trend in total emissions over time, with notable rapid growth beginning around the year 2000 and a slight decrease at around 2011 before continuing upwards, reaching 3 million kilotons of CO2 emissions in 2020. USA has a less extremely positive trend, with a notable spike in per capita emissions around 2016.\n\nDesign choice breakdown\nI chose line plots for this visualization because I felt that it most efficiently conveyed the information that I was trying to present. Showing trends over time between the two countries in a line plot just made the most sense.\nAs discussed earlier, I chose to use Playfair Display as the typeface for my title, sub-plot titles, and axis titles to provide a bold, serif font for emphasis. I paired this with Raleway for my subtitle, axis text, and caption to have a more legible, clean look for the finer-detailed textual information. I kept my x-axis labels to a decade interval to avoid over-crowding and complicating my plot.\nI chose to remove most axis gridlines to have a very clean look to emphasize the trends of the lines over time. I included faint y-axis gridlines for easier visual reference to the carbon dioxide levels associated with each line or level. I increased the margins between the title and subtitle and plots, as well as between the individual plots’ subtitles and axes titles to make them more legible. I also increased the margins between the title, subtitle, and caption of the combined plot to maximize readability while placing each element with intention.\nI chose the specific shades of red and blue for China and USA based on each country’s flag using a color-picker/eyedropper tool. I then pre-visualized these colors in Coolors to see if I liked how they paired together. I kept all of my text black to maximize contrast between text elements and the white background.\nI moved the legend to the upper left side within the Total Emissions plot to maximize my data-ink ratio, reduce clutter, and minimize eye strain for readers. I only have it in the first subplot, along with only having the x-axis title on the second subplot because these two elements are shared between the two subplots and it felt cluttered and redundant to have this information repeated in both subplots.\nI added a caption to contextualize my data in two ways: firstly, to provide a definition for what 1 kiloton is, and secondly to give context for the per capita emissions plot, to give a global-level context for those emissions levels.\nI centered my primary message and question by having a question as my plot title, and added in more text when I made my infographic to provide more context and point out key trends and takeaways.\nI made sure to avoid colors that are not colorblind-friendly, and paired the bold colors and black text with a white background to maximize contrast and make everything more legible. I also provide alt-text for this plot here, but not in my final infographic as I made it in Canva and exported it as a png, which limits the plot-by-plot alt text capabilities.\nI wanted to make sure that I wasn’t showing favoritism or any moral judgments about either country by making one a more positive color than the other. I also wanted both countries to feel appropriately represented, which is why I chose their associated colors from the colors of their flags.\nI figured it was unlikely that a general audience has the domain knowledge to know what 1 kiloton is, which is why I provided a caption and additional reference points in my infographic. I indicated this with a car icon and detailed what an equivalent driving distance in miles would be to emit 1 kiloton of CO2 on the infographic in the lower margin below this plot."
  },
  {
    "objectID": "blog/agrifood-emissions-viz/index.html#limitations",
    "href": "blog/agrifood-emissions-viz/index.html#limitations",
    "title": "Agri-food Emissions in USA and China",
    "section": "Limitations",
    "text": "Limitations\nI think that if I were to redo this project, I would use more direct data sources than a Kaggle dataset that aggregates from other sources, even though those sources are generally robust and valid.\nA primary limitation of infographics is the static nature of them – if I were to make interactivity a component of my overall process, I think I would create more advanced and interesting plots, including an interactive sankey diagram, tree plot or sunburst plot. It would also be interesting to visualize more of the global data on a basemap, with hover actions and interactivity to give more information about a particular country."
  },
  {
    "objectID": "blog/agrifood-emissions-viz/index.html#final-thoughts",
    "href": "blog/agrifood-emissions-viz/index.html#final-thoughts",
    "title": "Agri-food Emissions in USA and China",
    "section": "Final thoughts",
    "text": "Final thoughts\nThis project was challenging in terms of the scope and time limitations, but overall, I am proud that I created an infographic. Infographics always seemed like some great, mysterious, unreachable thing – I’ve admired the works of many great visualization specialists and their Tidy Tuesday infographics for years. Stepping into this realm through this project has made the concept of creating informative data visualizations for a general audience less daunting."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Anna Ramji",
    "section": "",
    "text": "Welcome to my website! My name is Anna Ramji and I’m a current Master of Environmental Data Science (MEDS) student at the Bren School of Environmental Science & Management at UC Santa Barbara. I’m currently working as an Ocean Health Index (OHI) fellow at the National Center of Ecological Analysis and Synthesis (NCEAS).\nI’m interested in all things sustainability, including (but definitely not limited to!):\n\ndeveloping the renewable energy grid\nagroecology\ncarbon accounting and corporate sustainability\nocean health and resource management"
  },
  {
    "objectID": "index.html#hello",
    "href": "index.html#hello",
    "title": "Anna Ramji",
    "section": "",
    "text": "Welcome to my website! My name is Anna Ramji and I’m a current Master of Environmental Data Science (MEDS) student at the Bren School of Environmental Science & Management at UC Santa Barbara. I’m currently working as an Ocean Health Index (OHI) fellow at the National Center of Ecological Analysis and Synthesis (NCEAS).\nI’m interested in all things sustainability, including (but definitely not limited to!):\n\ndeveloping the renewable energy grid\nagroecology\ncarbon accounting and corporate sustainability\nocean health and resource management"
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Anna Ramji",
    "section": "Education:",
    "text": "Education:\nMaster of Environmental Data Science, University of California, Santa Barbara (2024)\nB.S. Environmental Sciences, University of California, Berkeley (2021)\n\nTheme:\n\ncustom built by Anna Ramji (2024), (work in progress!)"
  },
  {
    "objectID": "blog/ca-spiny-lobsters/index.html",
    "href": "blog/ca-spiny-lobsters/index.html",
    "title": "California Spiny Lobsters & Reef Bottom Temperatures",
    "section": "",
    "text": "CA Spiny Lobsters\n\n\nImage credits: By Ed Bierman from CA, USA - Spiny Lobster, CC BY 2.0, https://commons.wikimedia.org/w/index.php?curid=61489279\n\n\nIn this project, I work with data from the Santa Barbara Coast LTER sites, analyzing data using statistical analysis methods covered in the Master of Environmental Data Science program’s Environmental Data Science (EDS) 222: Statistics for Environmental Data Science course taught by Tamma Carleton.\nI first became interested in lobsters in 2021 during the pandemic, when I, and millions of other lobster laypeople came across a now TikTok- and YouTube-famous Maine Lobster fisherman’s videos. In these clips, Jacob Knowles, the current lead of a multi-generational, family-owned lobster fishing operation, candidly portrays what it’s like to be a lobster fisherman in Maine during lobster season. This is a gross generalization, and there are many nuances, including casually disseminated lobster facts and information, special close-ups on rare lobsters (sometimes blue, recently a 1-in-50 million chance half-blue-half-red lobster named Bowie.\nI later learned that Maine Lobster fisheries are threatened by climate change, with rising sea temperatures and environmental pressures pushing American Lobster (Homarus americanus) populations farther north or into general decline if not managed appropriately 1, 2, 3. Intense warming in waters on the East Coast coupled with failure to act and adapt quickly enough has already led to the collapse of the Gulf of Maine cod fishery 4.\nLobsters are sensitive to change, and it can impact their behavior5. Recent studies suggests that changing sea temperatures have implications on the size at which Homarus americanus reach maturity, and bacterial diversity and cultivability 6, 7. Warming that impacts areas that juvenile lobsters rely on can lead them to become inhospitable, which is particularly dangerous as the Gulf of Maine has been warming at a rate faster than 99% of the world’s oceans 8, 9.\nGiven all of this established background and concern over the American Lobsters, as a Santa Barbara resident and lifelong fan of the California coast and all of its marine life, I wondered if the California Spiny Lobster Panulirus interruptus, was facing similar threats.\n\nImage credits: Brett Seymour for NPS\nThe species is currently listed as a species of “least concern” on the IUCN Redlist, and their populations have been managed by the California Department of Fish and Wildlife for decades. If you aren’t already convinced, I’m happy to inform you that the CA Spiny Lobster is significant both economically and ecologically. In the 2017-2018 fishing season, the commercial fishery accounted for roughly $12.7 million in ex-vessel value, and the recreational fishery contributes “between $33-40 million in consumer spending to the California economy each year.” 10\nDo you think kelp forests are cool? Well, these lobsters are also a keystone species in California’s kelp forest ecosystems. They’re a key predator of purple sea urchins, which love to eat the Giant Kelp that the rest of the ecosystem depends on. Spiny lobsters relieve this predation (urchin grazing) on Giant Kelp forests and as many larger fish prey on these lobsters, they are a key, mid-trophic level species11. They typically forage at night, and according to the CADFW’s Marine Species Portal, “the Spiny lobster provides an important role in the ecology of rocky reefs, and it is associated with critical habitats such as surfgrass beds.” 12\nThe Santa Barbara Coast and the Channel Islands National Park are key areas of the California Spiny Lobsters’ habitat:\n\nThe presence of eelgrass or surfgrass in the rocky reefs in these areas also provide critical habitat for the 11 larval stages of Spiny lobsters.\nPanulirus interruptus are estimated to reach sexual maturity at around 5-7 years old (Females typically take longer to mature) which is estimated by a carapace length of 2.5 inches, or 63.5 millimeters 13. The CA Department of Fish & Wildlife manages the Spiny Lobster populations in part by restricting the months during which it is legal to hunt/fish for them. The fishing season is from early October to mid-March, which allows populations to recover in the off-season, as this species has a complex reproductive cycle and needs to molt (shed their exoskeleton) which makes them especially vulnerable to predation. The legal catch size is 3.25 inches, or 82.55 millimeters 14. Overall, it seems that the populations are able to remain stable thanks to the careful management of the CADFW.\n\nThis diagram labels key attributes of the California Spiny Lobster, including the area that is measured to obtain the carapace length (CL) measurements used in determining maturity, catch length, and as a proxy for age.\nI also became interested in investigating how the 2015/2016 El Niño may have impacted Spiny lobster populations, as it was the most extreme El Niño in the previous 145 years15. With the warmer sea surface temperatures associated with El Niño events, would we see populations being impacted on the Santa Barbara Coast?\n\n\nThe Santa Barbara Coastal Long Term Ecological Research project (SBC LTER) has many study sites at which a wide variety of data are collected, from fish abundance and population dynamics to complex water chemistry and temperature data. Using this data and the context given above, I tried to answer the question: What is the relationship between California Spiny Lobster populations and reef bottom temperatures?\nTo investigate the relationship between CA Spiny Lobsters populations and reef bottom temperatures, I used carapace length as it is the primary size metric for lobsters and is used as a proxy measurement for age, which can help provide information about the population structure at various reef sites. I also used reef bottom temperatures (as apposed to sea surface temperatures (SST). All of this data was collected at reef study sites in the SBC LTER network.\nThe five SBC LTER Reef sites that I’ll be using data from in this analysis are:\n\nArroyo Quemado Reef: site code “AQUE”\n\ndepth range: 5.4 meters to 10.7 meters\n\nNaples Reef: site code “NAPL”\n\ndepth range: 5.9 m to 13.4 m\n\nIsla Vista Reef: site code “IVEE”:\n\ndepth range: 8.2 m to 8.8 m\n\nMohawk Reef: site code “MOHK”:\n\ndepth range: 4.5 m to 6.0 m\n\nCarpinteria Reef: site code “CARP”:\n\ndepth range: -2.2 m to -8.8 m\n\n\nI’ve labeled these on a screenshot of a geographically contextual rendered map preview from the SBC LTER wesite:\n\nTwo of these sites, Naples (NAPL) and Isla Vista (IVEE), indicated with a black line connecting them, are in Marine Protected Areas (MPAs).\n\n\n\n\n\n\nThis dataset contains records on the abundance, size, and fishing effort on the California Spiny Lobster, Panulirus interruptus, at five SBC LTER study sites, with records from August 2012 to August 2023.\nWhile most data was collected in the month of August at the selected study sites, there is a discrepancy that is very relevant to our analysis. - In 2014, the Arroyo Quemado Reef (site code AQUE) only had data collected in September (56 observations), and the Isla Vista Reef site (site code IVEE) had 6 carapace length observations collected in September and 114 in August of that same year.\nThis is relevant to our analysis because both carapace length and ocean temperatures are related to the time of year – as more time passes, lobsters grow in size, and water temperatures fluctuate seasonally, as shown in this data visualization of monthly mean temperatures from Shore Stations (one of the Scripps Institution of Oceanography’s programs that works to collect daily temperature (SST) and salinity records at sites along the California coast from La Jolla to Trinidad).\n\n\n\n5 year monthly mean SSTs vs long-term averages\n\n\nNotes on methods, limitations: “Transects were sampled by two SCUBA divers during daylight hours” – this is notable because lobsters are most active at night, which may add further limitations on the ability of the sample of the population, so any conclusions we come to based on our analysis of these data may not have as much significance or strength in our ability to make claims about the true population.\nData Citation:\nReed, D. & Miller, R. (2023). SBC LTER: Reef: Abundance, size and fishing effort for California Spiny Lobster (Panulirus interruptus), ongoing since 2012 ver 9. [Data File]. Environmental Data Initiative. https://doi.org/10.6073/pasta/3595322687af94cd532620ad9db94c77 (Accessed 2023-11-22).\nFigure Citation: Carter et. al., 2022.\n\n\n\nThis dataset contains records of the water temperature at the bottom (or a relatively low, non-surface depth) at nine of the SBC LTER Reef study sites in 15 minute intervals beginning in 2000 up to July 4th, 2023. I accessed this continuous water temperature dataset via the EDI Data Portal. The primary data file on this portal is a .csv, which is 372.8 MB. The key variables that I’ll be using in this data set are:\n\nSite_code (default column name: SITE), which contains a string of the name of the field site that each measurement was taken at. Note that the depth of temperature logger at each site varies from 4.95 to 8.15 meters.\ndate (default column name: DATE_LOCAL), which contains the date of observation in the format YYYY-MM-DD\nTemperature in Celsius (default column name: TEMP_C): Ambient water temperature, measured with Onset tidbit. “tidbit” refers to the measurement instrument, a 32K StowAway TidbiT (-5 deg C to 37 deg C) manufactured by Onset Computer Corporation.\n\nThe NA code for this dataset is -99999.\nYou can download the data using this link, or you can copy and paste that download link directly into your read_csv() function as I did in my analysis below.\nData Citation:\nSanta Barbara Coastal LTER, D. Reed, and R. Miller. (2023). SBC LTER: Reef: Bottom Temperature: Continuous water temperature, ongoing since 2000 ver 29. [Data File]. Environmental Data Initiative. https://doi.org/10.6073/pasta/3071d4179516b5ae56018bfa03fea9dd (Accessed 2023-12-03).\n\n\nI used the following libraries in my analysis and plotting:\n\n\nCode\n# for tidy data etc.\nlibrary(tidyverse)\nlibrary(janitor) \nlibrary(lubridate)\n\n# for output formatting\nlibrary(gt)\nlibrary(tufte)\nlibrary(patchwork) # for displaying multiple plots\n\n# for reading in data\nlibrary(here) # for reproducible filepaths (like os in Python)\nlibrary(readr)\n\n# for analysis\nlibrary(vegan) # for creating a diversity index\nlibrary(feasts)\nlibrary(tsibble)\nlibrary(forecast)\n\n# for nice regression output\nlibrary(sjPlot)\n\n\n\n\n\n\n\n\n\n\nCode\n# read in lobster abundances & size data from EDI portal link\nlobster_data &lt;- read_csv(\"https://portal.edirepository.org/nis/dataviewer?packageid=knb-lter-sbc.77.9&entityid=f32823fba432f58f66c06b589b7efac6\",\n                         na = c(\"-99999\")) # specifying NA value labels\n\n\nlobster_size &lt;- lobster_data %&gt;% \n  clean_names() %&gt;%  #  lower_snake_case column names\n  # this dataset also has abundance, along with other information that we won't be using in our analysis. let's select what we're interested in:\n  mutate(\"month\" = lubridate::month(date, label = FALSE)) %&gt;% \n  select(year, month, date, site, size_mm) %&gt;% \n  # filtering out NA values for size_mm \n  drop_na(size_mm)\n  \n# head(lobster_size, 2) %&gt;% gt()\n\n\n\n\n\n\n\nCode\n# this is a large file (372.8 MiB), so don't be alarmed if this step takes a while\nwater_data &lt;- read_csv(\"https://portal.edirepository.org/nis/dataviewer?packageid=knb-lter-sbc.13.29&entityid=d707a45a2cd6eee1d016d99844d537da\")\n\nwater_data &lt;- water_data %&gt;% \n  clean_names() %&gt;% \n  rename(\"date\" = date_local) %&gt;%  # cleaning names\n  mutate(\"year\" = lubridate::year(date), # adding columns to join by\n         \"month\" = lubridate::month(date)) %&gt;%   # and filter later on\n  select(year, month, date, site, temp_c)\n  \n  \n# head(water_data, 2) %&gt;% gt()\n\n\nOmitted for brevity, the preliminary outputs show that the primary variables (columns) we’ll be working with are related to the date, site, and measurement variable (size_mm and temp_c). I also found it interesting that the first row in the temperature dataset has a starting date of August, 2002, when the data repository claims that the temperature data ranges back to 2000.\n\n\n\n\n\nLet’s check our data for normality to see what our options are in terms of analysis:\n\n\nCode\n# check to see if normally distributed\n\nmean_size &lt;- mean(lobster_size$size_mm)\nsd_size &lt;- sd(lobster_size$size_mm)\n\nlobster_size_dist &lt;- ggplot(data = lobster_size) +\n  geom_histogram(aes(x = size_mm),\n                 fill = \"seagreen\",\n                 color = \"black\",\n                 bins = 45) +\n  geom_vline(xintercept = mean_size,\n             linetype = \"dashed\",\n             color = \"skyblue\",\n             linewidth = 0.8,\n             size = 0.6) + \n  geom_vline(xintercept = mean_size + (2 * sd_size),\n             linetype = \"dotted\",\n             size = 0.6) + \n  geom_vline(xintercept = mean_size - (2 * sd_size),\n             linetype = \"dotted\",\n             size = 0.6) + \n  theme_bw() +\n  labs(title = \"Distribution of California Spiny Lobster Size\", \n       subtitle = \"SBC LTER CA data (2012-2023), size measured by carapace length (mm)\",\n       x = \"Carapace Length (mm)\",\n       y = \"Count\")\n\n\nlobster_size_dist\n\n\n\n\n\nThe data appears relatively normally distributed, with a clear aggregation of the data around the mean (light blue, dashed line) and the bulk of the data within two standard deviations away from the mean (black dotted lines). There is also a right tail indicating several counts of higher values.\n\n\nCode\n# check to see if normally distributed\nmean_temp &lt;- mean(water_data$temp_c)\nsd_temp &lt;- sd(water_data$temp_c)\n\ntemp_dist &lt;- ggplot(data = water_data) +\n  geom_histogram(aes(x = temp_c),\n                 fill = \"cornflowerblue\",\n                 color = \"black\",\n                 bins = 45) +\n  geom_vline(xintercept = mean_temp,\n             linetype = \"dashed\",\n             linewidth = 1,\n             color = \"darkturquoise\",\n             size = 0.7) + \n  geom_vline(xintercept = mean_temp + (2 * sd_temp),\n             linetype = \"dotted\",\n             size = 0.6) + \n  geom_vline(xintercept = mean_temp - (2 * sd_temp),\n             linetype = \"dotted\",\n             size = 0.6) + \n  theme_bw() +\n  labs(title = \"Distribution of Reef bottom temperatures (ºC) (2002-2023)\", \n       subtitle = \"at nine SBC LTER Reef sites \",\n       x = \"Temperature (ºC)\",\n       y = \"Count\")\n\n\ntemp_dist\n\n\n\n\n\nThe data appears relatively normally distributed, with a clear aggregation to the slight left of the mean (blue dashed line) the bulk of the data falling within 2 standard deviations away from the mean (dotted black lines) . There is also a right tail and right skew.\nTo know what we should do with our “outlier” September data records, let’s see the number of data points that were collected in September at the two sites we know they were collected at.\n\n\nCode\nsept_data &lt;- lobster_size %&gt;% \n  filter(month == 9) \n\n# we can also see that the only year that size data was collected in was 2014\n#print(unique(sept_data$year))\nprint(unique(sept_data$site))\n\n\n[1] \"IVEE\" \"AQUE\"\n\n\nCode\n# finding proportion of IVEE data collected in September, 2014\niv_2014 &lt;- lobster_size %&gt;% \n  filter(site == \"IVEE\",\n         year == 2014) \n\niv_sept &lt;- iv_2014 %&gt;% filter(month == 9) \niv_sept_pct &lt;- nrow(iv_sept) / nrow(iv_2014) * 100\n\n\n# we can also see that all of site AQUE's data in 2014 was collected in September:\naq_2014 &lt;- lobster_size %&gt;% \n  filter(site == \"AQUE\",\n         year == 2014)\n\naq_sept &lt;- aq_2014 %&gt;% filter(month == 9) \naq_sept_pct &lt;- nrow(aq_sept) / nrow(aq_2014) * 100\n\n\nprint(paste0(\"The September data records account for \", round(iv_sept_pct, 2), \"% of IVEE Reef's 2014 data points\"))\n\n\n[1] \"The September data records account for 5.26% of IVEE Reef's 2014 data points\"\n\n\nCode\nprint(paste0(\"The September data records account for \", round(aq_sept_pct, 3), \"% of AQUE Reef's 2014 data points\"))\n\n\n[1] \"The September data records account for 100% of AQUE Reef's 2014 data points\"\n\n\nPreliminary exploration shows us that the primary month that data was collected in is August (month == 8), with the exception of AQUE and IVEE study sites in 2014, where data was collected in September (site IVEE (around 5% of the site’s 2014 observations) and AQUE (100% of the site’s 2014 observations)).\nAs 2015 is an important year for our study (El Niño), it is important to have a baseline of lobster carapace size from the year before. Because this data collection began in 2012, leaving out the 2014 September data for the AQUE site would mean only have 2 years of precedent before the El Niño event. Having only\nDue to the nature of lobster carapace size increasing over time (positive age-size relationship), if we include the 2014 September data for AQUE, we could get a falsely high “baseline” carapace size for that study site before the El Niño event, which could skew our results. An additional concern I have is about how our average Reef bottom temperature data will interact in all of this. Sea surface temperatures fluctuate over time and both seasonal variation and wind levels can impact ocean temperatures on the California Coast 16,17.\nAnother issue that comes up with excluding 2014 data for the AQUE study site is that in all other sites, the average carapace size (mm) was greater in 2014 than in 2013. This could mean that by excluding 2014 data for the AQUE study site, in our attempt to avoid a falsely high baseline/comparison point, we are obtaining a falsely low one. If we include both months of 2014 data, the IVEE study site is also skewed to have higher average carapace sizes for that year, as I’ll show later.\nTo address this discrepancy in the data, In my analysis, I will make two subsets: one in which we keep all of our data (denoted in our outputs as August data and August & September data), and the other will only include data collected in August. We can compare the results of our statistical analyses as we go.\n\n\n\n\n\nFirst, we’ll make two subsets (August vs. August & September) and then we’ll plot the average carapace lengths over time, grouped by site,\n\n\nCode\n# making a tidied subset, finding average count and size per year per site\n\n# keeping data from August and September\nlobster_all &lt;- lobster_size %&gt;% \n  group_by(year, site) %&gt;% \n  summarize(avg_size = mean(size_mm, na.rm = TRUE),\n            max_size = max(size_mm, na.rm = TRUE), \n            min_size = min(size_mm, na.rm = TRUE))\n\n# keeping August data only\nlobster_august &lt;- lobster_size %&gt;%  \n  filter(month(date) == 8) %&gt;% \n  group_by(year, site) %&gt;% \n  summarize(avg_size = mean(size_mm, na.rm = TRUE),\n            max_size = max(size_mm, na.rm = TRUE), \n            min_size = min(size_mm, na.rm = TRUE))\n\n\n\nAugust & SeptemberAugust\n\n\n\n\nCode\n# plot average lobster size per site per year, including September data\nlobster_size_plot_all &lt;- lobster_all %&gt;%  ggplot() + \n  geom_point(aes(x = year, y = avg_size,\n                 color = site)) +\n  geom_line(aes(x = year, y = avg_size,\n                 color = site)) +\n  # carapace length at sexual maturity \n  geom_hline(yintercept = 63.5,\n             linetype = \"dashed\",\n             alpha = 0.6) + \n  # catch length\n  geom_hline(yintercept = 82.55,\n             linetype = \"dashed\",\n             alpha = 0.6) + \n  # 2015 El Niño\n  geom_vline(xintercept = 2015,\n             linetype = \"dotted\") + \n  facet_wrap(~site) +\n  theme_bw() +\n  theme(strip.background = element_rect(fill = \"transparent\")) +\n  labs(\n    #color = \"Site\",\n       x = \"Year\",\n       y = \"Average Carapace Length (mm)\",\n       title = \"Annual average Spiny Lobster carapace length (2012-2023)\",\n       subtitle = \"organized by SBC LTER study site\") +\n  theme(legend.position = \"none\")\n\n\nlobster_size_plot_all\n\n\n\n\n\n\n\n\n\nCode\n# plot average lobster size per site per year\nlobster_size_plot_august &lt;- lobster_august %&gt;%  ggplot() + \n  geom_point(aes(x = year, y = avg_size,\n                 color = site)) +\n  geom_line(aes(x = year, y = avg_size,\n                 color = site)) +\n  # showing lobster size of sexual maturity \n  geom_hline(yintercept = 63.5, linetype = \"dashed\", color = \"dimgrey\", alpha = 0.5) + \n  geom_hline(yintercept = 82.55, linetype = \"dashed\", alpha = 0.5) + \n  geom_vline(xintercept = 2015,  linetype = \"dotted\") + # showing 2015 El Niño\n  facet_wrap(~site) +\n  theme_bw() +\n  theme(strip.background = element_rect(fill = \"transparent\")) +\n  labs(\n    #color = \"Site\",\n       x = \"Year\",\n       y = \"Average Carapace Length (mm)\",\n       title = \"Annual average Spiny Lobster carapace length (2012-2023)\",\n       subtitle = \"organized by SBC LTER study site, data collected in August only\") +\n  theme(legend.position = \"none\")\n\nlobster_size_plot_august\n\n\n\n\n\n\n\n\n\nThe vertical dotted line indicates the first year of the 2015-2016 El Niño\nThe lower dashed horizontal line indicates the average estimated size (and corresponding age) at which the California Spiny Lobster reaches sexual maturity: around 2.5 inches (63.5 mm), or 58mm and 5 years old for Males and 70 mm and roughly 7 years old for Females 18, 19.\nThe higher dashed horizontal line indicates the minimum legal catch size: a carapace measuring 3.25 inches or 82.55 mm, or around 8-13 years old (estimated age range of 7-11 for Males, 8-13 for Females) 20.\n\n\n\n\nNote the significant difference in slopes between year 2014 and 2015 data points for average carapace size (mm) at the AQUE study site between the September-inclusive and September-exclusive (August only) plots. There is also a subtle change at the IVEE study site between 2014 and 2015 between the two plots as well, supporting what we know about how carapace lengths increase over time, even on a monthly level.\n\nTaking the average size (carapace length) per site per year shows potentially interesting trends. At all sites, there is a notable drop in average carapace length (mm) from 2014 to 2015, both including and excluding September 2014 data. This significant change in slope of the lines connecting data points for average carapace length coincides with the 2015/2016 El Niño, which was the strongest over a 145 year record 21. During El Niño events, sea surface temperatures (SST) rise, and SST estimates can also serve as an indicator for coastal ocean temperature levels – if SST is rising, the temperatures at the bottom of relatively shallow, coastal reef sites are likely rising as well. In some cases, depending on the thermocline (inverted or not) that a reef experiences, Sea Bottom Temperatures (SBT) can even be higher than SST 22.\nThese visualizations suggests that the Santa Barbara Coast LTER sites are somewhat of a haven for California Spiny lobsters in their first few of years of breeding, as stated on the CADFW info page on the California Spiny lobster. As this graph shows an average carapace size, and lobsters can vary significantly in size depending on their age, these research sites are likely home to a wide age and developmental stage range of lobsters.\nLet’s move on to incorporate the other essential data in investigating the relationship between reef bottom temperatures and average lobster size (carapace length, mm), – Reef bottom temperature!\n\n\n\n\nOur reef bottom temperature data is pretty huge – temperatures were recorded every 15 minutes at multiple SBC LTER study sites since 2002.\nRegarding our previous dilemma of “to include or not to include” September carapace length data, we now have an opportunity to decide how we want to aggregate our reef bottom temperature data. I could filter it by month, keeping temperature records only from the month of August, or I could include September as well. I could also have another different subset, which incorporates temperature data from August and September only at sites IVEE and AQUE for 2014, and filter it to only keep August dates for all other sites that year and all sites at all years. This can get pretty complicated pretty quickly, as the easiest inclusive option – filtering just for August and September – has the drawback of interfering with the estimated relationship between average carapace length and water temperature for the majority of our data.\nIn my analysis, I’ve decided to only select reef bottom temperature records in the month of August, which I then average and join with the lobster data by year and by site.\nFirst, we’ll plot the average August reef bottom temperature per year across all sites, noting the spike in temperature in the first year of the 2015/2016 El Niño. This dataset ranges from 2002 to 2023, but the last month of the record is July, so we’ll have August data spanning from 2002-2023 before we join it with our lobster data set. Then, we’ll plot the average August temperatures over time by site, comparing with the average size by site plot created earlier.\n\n\nCode\n# prepping water temp data to compare with lobster data\n\n# finding average August reef bottom temperatures across all sites over \n# the full time range of our water dataset (2002-2022)\nallsites_aug_temps &lt;- water_data %&gt;% \n  filter(month %in% c(8)) |&gt; # select August temps\n  filter(site %in% c((unique(lobster_size$site)))) %&gt;% # selecting Lobster data study sites\n  group_by(year) %&gt;%  \n  summarize(avg_temp = mean(temp_c, na.rm = TRUE)) # find avg temp\n\n\naugust_temps &lt;- water_data %&gt;%\n  filter(site %in% c((unique(lobster_size$site)))) %&gt;% \n  filter(month == 8)\n\nmean_aug_temp &lt;- mean(august_temps$temp_c)\n\nprint(paste0(\"The average August reef bottom temperature across the 5 reef study sites from 2002-2022 is \", round(mean_aug_temp, 2), \"ºC.\"))\n\n\n[1] \"The average August reef bottom temperature across the 5 reef study sites from 2002-2022 is 16.19ºC.\"\n\n\n\n\nCode\n# making a subset to show selected year range\nallsites_aug_temp_plot &lt;- ggplot(data = allsites_aug_temps) +\n  geom_point(aes(x = year, \n                 y = avg_temp)) +\n  geom_line(aes(x = year, \n                y = avg_temp)) +\n  geom_vline(xintercept = 2015,  linetype = \"dotted\") + # showing 2015 El Niño \n  scale_x_continuous(breaks = (seq(2000,2022, by = 5)), \n                     minor_breaks = seq(2002, 2022, by = 1)) +\n  theme_bw() +\n  labs(title = \"Average Reef Bottom Temperatures in August Over Time\",\n       subtitle = \"across selected SBC LTER study sites (2002-2022)\", \n       x = \"Year\",\n       y = \"Average Temperature (ºC)\") +\n  annotate(\"text\", x=2014, y=19, label=\"El Niño\", angle=0) \n\n\nallsites_aug_temp_plot\n\n\n\n\n\nThere is a clear spike in average reef bottom temperature in August of 2015 across all study sites, and a significant dip in 2010. There is also a notable spike (and maximum peak) at all sites in 2018. There were record-breaking SST anomalies in 2018 at many points along the Southern California Coastline, particularly along La Jolla, San Diego, where the Scripps Institution of Oceanography recorded water temperatures of 25.9 degrees Celsius, beating the previous record of 25.8 C from 1931 23, 24.\nNow we’ll join the lobster size data and the temperature data, which will narrow our time range to 2012-2022.\n\n\nCode\n# making august-only water temp subset\naugust_site_temps &lt;- water_data %&gt;%  \n  filter(month(date) %in% c(8)) %&gt;%  # select August temps\n  filter(site %in% c((unique(lobster_size$site)))) %&gt;%  # selecting Lobster data study sites\n  group_by(year, site) %&gt;%  # grouping by year and site to join (only 1 month, no need to group by it)\n  summarize(avg_temp = mean(temp_c, na.rm = TRUE)) # find avg temp\n\n\nlobster_temps_august &lt;- inner_join(lobster_august, august_site_temps) %&gt;% \n  select(-max_size, -min_size)\n\n\n# this will make sure that we're comparing the same month for each site and each year, \n# so for most years, sites, and months, it'll be august data\n# but for the 2014 AQUE and IVEE data collected in September,\n\nsite_temps &lt;- water_data %&gt;%  \n  filter(month(date) %in% c(8, 9)) %&gt;%  # select August and September temps\n  filter(site %in% c((unique(lobster_size$site)))) %&gt;%   # selecting Lobster data study sites\n  group_by(year, month, site) %&gt;%  # grouping by year, month, and site, so we can join by all \n  summarize(avg_temp = mean(temp_c, na.rm = TRUE)) # find avg temp\n\n# we'll be pairing those averages with average temperature in September\nlobster_temps_all &lt;- inner_join(site_temps,\n                                lobster_all) %&gt;%  # this df also has maintained its \"month\" column\n  select(-max_size, -min_size)\n\n\n\nAvg. TemperaturesAvg. Sizes\n\n\n\n\nCode\n# plotting august temp trends per site, within our lobster data time range\n\naugust_temp_trends &lt;- ggplot(data = lobster_temps_august, aes(x = year, y = avg_temp)) +\n  geom_hline(yintercept = 16.19, \n             linetype = \"dashed\", \n             alpha = 0.6) + \n  geom_vline(xintercept = 2015,\n             linetype = \"dotted\") + # showing 2015 El Niño\n  geom_point(aes(color = site)) +\n  geom_line(aes(color = site)) +\n\n  scale_x_continuous(minor_breaks = seq(2012,2022, by=1),\n                     breaks = seq(2012,2022, by=4)) +\n\n  theme_bw() +\n  facet_wrap(~site) +\n  theme(strip.background = element_rect(fill = \"transparent\")) +\n  labs(title = \"Average Reef Bottom Temperatures in August Over Time\",\n       subtitle = \"organized by selected SBC LTER study sites (2012-2022)\", \n       x = \"Year\",\n       y = \"Average Temperature (ºC)\") +\n#  annotate(\"text\", x=2011, y=19, label=\"El Niño\", angle=0) # label looks messy on faceted plot, but is worthwhile to add on individual site plots\n  theme(legend.position = \"none\") # we're coloring and facet wrapping by site, so a legend is redundant\n\n\naugust_temp_trends \n\n\n\n\n\n\n\n\n\nCode\nlobster_size_plot_august\n\n\n\n\n\n\n\n\nThe dotted vertical line in each graph once again shows the beginning of the 2015/2016 El Niño. The dashed horizontal lines in the temperature plots show the 20-year average August reef bottom temperature (from 2002-2022). The dashed horizontal lines in the average size plot show the carapace lengths at sexual maturity (lower) and catch size (higher).\nComparing our average temperature and average size plots side by side, there seems to be visual evidence for some trends or relationship between average temperature and average carapace length. At all sites, in 2015 when the average August temperature spikes, average carapace lengths decrease. At the Naples reef site, after the temperature spikes in 2018 and falls dramatically in 2019, we see a spike in average carapace length in 2019. As average August reef bottom temperatures continue to fall in 2020 in Naples, lower than the average temperature over the previous 8 years, the average carapace size seems to drop slightly at that site. The most extreme drops in average carapace length at sites Arroyo Quemado, Carpinteria, and Mohawk happen when the temperature spikes in 2015. When temperatures fall back down closer to the 20-year average August reef bottom temperature in 2016, the Arroyo Quemado reef site is the only site where average carapace lengths seem to recover within that annual cycle. Unfortunately, we are missing temperature data at the Mohawk reef site in 2017. Overall, there seem to be complexities in the population structures at all sites, with similar overall trends in average August reef bottom temperature.\n\n\n\n\nIn this section, we will:\n\n\nlook at the general relationship between our size and temperature variables (plot)\nrun multiple linear regression (size ~ temp + site)\nrun multiple regression with an interaction term (size ~ temp + site + temp:site)\nrun simple linear regression (size ~ temp) for each site\n\n\n\nBefore we dive into the complexities of the relationship between average carapace length in August and average reef bottom temperature in August, let’s take a more general look at the combined data that we’re working with.\nHere we’ll plot our joined size & temperature data subset with data exclusively collected in August each year from 2012-2022:\n\n\nCode\n# preliminary plot of the joined data\nlobster_temps_august_plot &lt;- ggplot(data = lobster_temps_august, \n                             aes(x = avg_temp,\n                                 y = avg_size)) + \n  geom_jitter(alpha = 0.7) +\n  geom_smooth(method='lm',\n              formula= y~x,\n              na.rm = TRUE,\n              color=\"seagreen\",\n              se=TRUE) +\n  scale_x_continuous(expand = c(0,0), limits = c(14.5, 20)) +\n  scale_y_continuous(expand = c(0,0), limits = c(65, 94)) + \n  theme_bw() +\n  ggpubr::stat_regline_equation(\n    aes(label = after_stat(eq.label))) + \n  labs(title = \"Average Lobster Size by Average Reef Bottom Temperature (August, annual averages)\", \n       subtitle = \"SBC LTER data on California Spiny Lobster carapace length (mm), reef bottom temperatures (ºC)\", \n       x = \"Average Temperature (ºC)\",\n       y = \"Average Size (mm)\")\n\n# view plots\nlobster_temps_august_plot\n\n\n\n\n\nThere seems to be a relationship here, where as average reef bottom temperatures increase, average lobster carapace lengths decrease, though with relatively few data points here and the impact that site may have on this relationship not accounted for in this plot, it is hard to make any real claims.\n\n\n\nWith our current data, we can model the relationship between average carapace length (mm) in August with the following multiple regression equation:\n\\[\\mu CL_i =\\beta_{0}+\\beta_{1} \\mu Temp_i +\\beta_{2} \\text Site+\\varepsilon_i\\] Where\n\n\\(\\mu CL\\) is the average carapace length, in millimeters, in August\n\\(\\beta_{0}\\) is the intercept, or expected average carapace length, in millimeters, when the average August temperature is 0º C and site is held constant (for our reference site, AQUE)\n\\(\\beta_{1}\\) is the slope or expected change in average carapace length given a 1 unit change in average temperature (1º C), when site is held constant (for our reference site, AQUE)\n\\(\\beta_{2}\\) is the difference in slope or expected change in average carapace length given a 1 unit change in average temperature (1º C) between our reference group (site AQUE) and each other site.\n\\(\\varepsilon\\) is our error term, containing everything else that impacts average expected carapace length as measured in August.\n\nOnce again, whenever I say “average”, followed by any term, I’m referring to the average of that variable as measured in August of each year.\nMultiple Regression: \\[\\mu CL_i =\\beta_{0}+\\beta_{1} \\mu Temp_i +\\beta_{2} \\text Site+\\varepsilon_i\\]\n\n\nCode\n# run simple linear regression on temp and size, taking temperature differences at each site into account\n\n# for august-only data\nlobster_temp_reg_august &lt;- lm(formula = avg_size ~ avg_temp + site, data = lobster_temps_august)\n# summary(lobster_temp_reg_august)\n\n\n# for september-inclusive lobster data and august-only water temp data\nlobster_temp_reg &lt;- lm(formula = avg_size ~ avg_temp + site, data = lobster_temps_all)\n# summary(lobster_temp_reg)\n\n\n# use sjPlot to show a comparison of the outputs from running these models\n\nsjPlot::tab_model(lobster_temp_reg_august, lobster_temp_reg,\n                  #  title = \"Multiple Regression: formula = average  ~ avg_temp + site\",\n                  dv.labels = c(\"August\", \"August & September\"),\n                  digits = 3\n)\n\n\n\n\n\n \nAugust\nAugust & September\n\n\nPredictors\nEstimates\nCI\np\nEstimates\nCI\np\n\n\n(Intercept)\n93.915\n77.190 – 110.640\n&lt;0.001\n88.867\n78.728 – 99.006\n&lt;0.001\n\n\navg temp\n-1.156\n-2.106 – -0.206\n0.018\n-0.838\n-1.407 – -0.269\n0.004\n\n\nsite [CARP]\n0.408\n-3.255 – 4.071\n0.824\n0.291\n-2.166 – 2.748\n0.815\n\n\nsite [IVEE]\n0.057\n-3.751 – 3.864\n0.976\n0.285\n-2.226 – 2.796\n0.822\n\n\nsite [MOHK]\n-2.106\n-5.860 – 1.648\n0.265\n-2.207\n-4.725 – 0.312\n0.085\n\n\nsite [NAPL]\n6.975\n3.296 – 10.654\n&lt;0.001\n6.843\n4.380 – 9.306\n&lt;0.001\n\n\nObservations\n53\n108\n\n\nR2 / R2 adjusted\n0.437 / 0.377\n0.407 / 0.378\n\n\n\n\n\n\n\n\n\nInterpretation of coefficients in August-only Regression:\n\nIntercept: at the Arroyo Quemado Reef (AQUE) study site (our reference group), when the reef bottom temperature is 0º Celsius, the expected lobster carapace size is 93.91 mm (nonsensical, from the SBC LTER records of reef bottom temperatures, which have been recorded every 15 minutes, ongoing since 2002, the minimum recorded temperature of all time in our data set is r(min(water_data$temp_c)) º Celsius).\nSlope: avg_temp: Holding site constant (comparing average lobster carapace lengths and average water temperatures only to those of the same SBC LTER study site), at the AQUE study site, given a one unit change in average reef bottom temperature (an increase of 1º Celsius) as measured in August, we expect the average carapace length of lobsters to change by -1.16 mm.\n\nInterpretation of site coefficients:\nNote, the coefficients following avg temp are to be interpreted in relation to avg temp, as it represents AQUE, our reference group.\n\nsiteCARP: For the SBC LTER Carpinteria Reef study site, given a 1º Celsius change (increase) in average reef bottom temperature measured in August, we expect to see a 0.41 mm increase in average lobster carapace size as compared to the AQUE site expected slope of -1.14 mm per 1 degree increase in Celsius, for a total expected change in average lobster carapace length of -0.75 mm.\n\n(moving forward, I will only describe the overall or total expected change (site [___] + avg temp)):\n\nsiteIVEE: For the SBC LTER Isla Vista Reef study site, given a 1º Celsius increase (in average reef bottom temperature in August), we expect to see a change in average lobster carapace length of -1.1 mm.\nsiteMOHK: For the SBC LTER Mohawk Reef study site, given a 1º Celsius increase in average reef bottom temperature in August, we expect to see a change in average lobster carapace length of -3.26 mm.\nsiteNAPL: For the SBC LTER Naples Reef study site, given a 1º Celsius increase in average reef bottom temperature in August, we expect to see a change in average lobster carapace length of 5.82 mm. This positive value is perhaps a sign that something more complicated is going on at this site, or perhaps in general. It also doesn’t seem to align with the visual evidence in our average temperature- and average CL-by-site plot earlier: following the temperature spike in 2015, the sample average carapace length fell, and after average temperatures began to decrease significantly following the 2018 temperature spike, the NAPL site showed a steadily, significantly increasing sample average carapace length.\n\n\\(R^2\\):\nBecause we have multiple terms on the right side of the equation (temp + site), the adjusted \\(R^2\\) value is more relevant and better representative of our model. This adjusted \\(R^2\\) value tells us that around 38% of the variation in our data can be explained by our model, or that 38% of the change in average carapace length in August can be explained by the average reef bottom temperature in August and which study site the lobster is located in.\nInterpreting Uncertainty, Significance:\nThere is notably more uncertainty in the September-inclusive regression than in the regression run on data collected exclusively in August, with wider confidence intervals and fewer estimates holding under an \\(\\alpha\\) of 0.05 (bolded p-values).\nThe intercept estimate is a significant yet nonsensical estimate, with a significance level of 0 being met in both regressions.\nIn both regression summaries, the Naples reef site has it’s own relationship between average water temperature and average carapace length going in a different direction than all of the other sites – yet it’s the most statistically significant estimate of all of our sites.\nThe Arroyo Quemado Reef site has a statistically significant estimate under the August regression, but not under the August & September regression. This makes sense intuitively, as the variation in carapace size and temperature in September does not follow the same pattern as the rest of our data (temperatures in September are cooler than August, and the carapace sizes of our lobsters will continue to grow). From here on out, we will only be using August data in our regression models.\n\n\n\n\nAs temperatures vary in each site, we can add an interaction term to our model to see if this may be a factor that impacts or is contributing to our uncertainty. This new equation is:\n\\[\\mu CL_i =\\beta_{0} + \\beta_{1} \\mu Temp_i +\\beta_{2} \\text Site + \\beta_{3} (\\mu Temp_{i} * \\text Site) +  \\varepsilon_i\\] Where:\n\n\\(\\mu CL\\) is the average carapace length, in millimeters, in August\n\\(\\beta_{0}\\) is the intercept, or expected average carapace length, in millimeters, when the average August temperature is 0º C and site is held constant (for our reference site, AQUE)\n\\(\\beta_{1}\\) is the slope or expected change in average carapace length given a 1 unit change in average temperature (1º C) in August, when site is held constant (for our reference site, AQUE)\n\\(\\beta_{2}\\) is the difference in slope or expected change in average carapace length given a 1 unit change in average temperature (1º C) in August between our reference group (site AQUE) and each other site.\n\\(\\beta_{3}\\) is the difference in slopes between our different sites, where slope is the average change in carapace length in August given a 1º C change in average reef bottom temperature in August for each site\n\\(\\varepsilon\\) is our error term, containing everything else that impacts average expected carapace length as measured in August.\n\nNow that we know what our equation means, let’s run the multiple regression with this added interaction term on our August-only dataset:\n\n\nCode\n# run multiple linear regression on temp and size, taking temperature differences at each site into account\n\n# for august-only data\nmulti_reg_int_aug &lt;- lm(formula = avg_size ~ avg_temp + site + avg_temp:site,\n                        data = lobster_temps_august)\n\n# summary(multi_reg_int_aug)\n\n# use sjPlot to show a comparison of the outputs from running these models\n\n\nsjPlot::tab_model(multi_reg_int_aug,\n                  title = \"Multiple regression with interaction\",\n                  dv.labels = c(\"\"),\n                #  dv.labels = c(\"Average lobster carapace length (mm)\"),\n                  digits = 3)\n\n\n\nMultiple regression with interaction\n\n\nPredictors\nEstimates\nCI\np\n\n\n(Intercept)\n114.066\n73.977 – 154.154\n&lt;0.001\n\n\navg temp\n-2.315\n-4.615 – -0.015\n0.049\n\n\nsite [CARP]\n-35.333\n-88.638 – 17.972\n0.188\n\n\nsite [IVEE]\n-31.745\n-86.520 – 23.030\n0.249\n\n\nsite [MOHK]\n-23.659\n-78.688 – 31.370\n0.391\n\n\nsite [NAPL]\n-2.429\n-55.379 – 50.521\n0.927\n\n\navg temp × site [CARP]\n2.064\n-1.007 – 5.136\n0.182\n\n\navg temp × site [IVEE]\n1.875\n-1.369 – 5.118\n0.250\n\n\navg temp × site [MOHK]\n1.241\n-1.940 – 4.421\n0.436\n\n\navg temp × site [NAPL]\n0.526\n-2.543 – 3.595\n0.731\n\n\nObservations\n53\n\n\nR2 / R2 adjusted\n0.469 / 0.358\n\n\n\n\n\n\n\n\n\nSeveral new features stand out in this regression output. The first is the change in extremity of our estimated site coefficients. The first avg temp coefficient can be interpreted as the expected change in average carapace length (mm) in August given a 1 unit change in our temperature variable (1º C increase in average temperature in August) holding site constant, at our reference group site AQUE.\nThe small p-value suggests that the probability of getting results at least as extreme as this if the null hypothesis were true is very low. That being said, only our nonsensical intercept and first coefficient, avg_temp, are statistically significant under an \\(\\alpha\\) of 0.05. In this interaction model, we got an adjusted \\(R^2\\) value of around 0.36, which would suggest that roughly 36% of the variation in our data can be explained by our model, the low significance levels coupled with the higher adjusted \\(R^2\\) value in our non-interaction multiple regression model on August-only data of roughly 0.38 or 38% suggests that incorporating this interaction term does not yield a better model for our sample data.\nThe coefficients labeled avg temp x site [XXXX] are the site specific differences in slopes for average reef bottom temperature from the slope of site AQUE described above (avg temp). None of these coefficient estimates are significant, which indicates that the effect of average reef bottom temperature is not meaningfully different across the study sites.\nBased on the nuances in the coefficients and uncertainty in the two previous models, I decided to model each site individually in a simple linear regression model.\n\n\n\n\nWe can also run our linear regression model on each site, which would shift our first multiple regression equation to a simple linear model of:\n\\[\\mu CL_i =\\beta_{0}+\\beta_{1} \\mu Temp_i +\\varepsilon_i\\] where:\n\n\\(\\mu CL\\) is the average carapace length, in millimeters, in August at the site that we’re running this regression for\n\\(\\beta_{0}\\) is the intercept, or expected average carapace length, in millimeters, when the average August temperature is 0º Celsius\n\\(\\beta_{1}\\) is the slope or expected change in average carapace length in August given a 1 unit (1º C) change in average temperature in August\n\nThe main change here is that our \\(\\beta_{0}\\) and \\(\\beta_{1}\\) terms are now about the particular site we’re running our regression model on, rather than having a clause of “holding site constant” or based on a reference group (site AQUE, previously).\n\n\nCode\n# to quickly make individual subsets for each site, we can make a subset function:\n\nsite_selection &lt;- function(siteID, data_set){\n  data_set %&gt;% filter(site %in% c(siteID))\n}\n\n# then apply this function for each site:\naque_subset &lt;- site_selection(\"AQUE\", lobster_temps_august)\ncarp_subset &lt;- site_selection(\"CARP\", lobster_temps_august)\nivee_subset &lt;- site_selection(\"IVEE\", lobster_temps_august)\nmohk_subset &lt;- site_selection(\"MOHK\", lobster_temps_august)\nnapl_subset &lt;- site_selection(\"NAPL\", lobster_temps_august)\n\n\naque_simple_reg &lt;- lm(formula = avg_size ~ avg_temp, data = aque_subset)\ncarp_simple_reg &lt;- lm(formula = avg_size ~ avg_temp, data = carp_subset)\nivee_simple_reg &lt;- lm(formula = avg_size ~ avg_temp, data = ivee_subset)\nmohk_simple_reg &lt;- lm(formula = avg_size ~ avg_temp, data = mohk_subset)\nnapl_simple_reg &lt;- lm(formula = avg_size ~ avg_temp, data = napl_subset)\n\n\n\n\nCode\n# show the 3 non-MPA sites' regression outputs\nsjPlot::tab_model(aque_simple_reg, carp_simple_reg, mohk_simple_reg, \n                  title = \"Simple linear regression: SBC LTER Reef study sites (not in MPAs)\",\n                  dv.labels = c(\"Arroyo Quemado\", \"Carpinteria\", \"Mohawk\"),\n                  digits = 3)\n\n\n\nSimple linear regression: SBC LTER Reef study sites (not in MPAs)\n\n\n \nArroyo Quemado\nCarpinteria\nMohawk\n\n\nPredictors\nEstimates\nCI\np\nEstimates\nCI\np\nEstimates\nCI\np\n\n\n(Intercept)\n114.066\n77.205 – 150.926\n&lt;0.001\n78.733\n49.689 – 107.776\n&lt;0.001\n90.407\n51.685 – 129.129\n0.001\n\n\navg temp\n-2.315\n-4.430 – -0.200\n0.036\n-0.250\n-1.933 – 1.432\n0.744\n-1.074\n-3.330 – 1.182\n0.304\n\n\nObservations\n10\n11\n10\n\n\nR2 / R2 adjusted\n0.443 / 0.374\n0.012 / -0.097\n0.131 / 0.022\n\n\n\n\n\n\n\nCode\n# show the 2 MPA sites' regression outputs\nsjPlot::tab_model(ivee_simple_reg, napl_simple_reg, \n                  title = \"Simple linear regression: SBC LTER Reef study sites (within MPAs)\",\n                  dv.labels = c(\"Isla Vista Reef\", \"Naples Reef\"),\n                  digits = 3)\n\n\n\nSimple linear regression: SBC LTER Reef study sites (within MPAs)\n\n\n \nIsla Vista Reef\nNaples Reef\n\n\nPredictors\nEstimates\nCI\np\nEstimates\nCI\np\n\n\n(Intercept)\n82.321\n37.505 – 127.136\n0.002\n111.637\n59.623 – 163.651\n0.001\n\n\navg temp\n-0.440\n-3.187 – 2.306\n0.725\n-1.789\n-4.843 – 1.265\n0.218\n\n\nObservations\n11\n11\n\n\nR2 / R2 adjusted\n0.014 / -0.095\n0.163 / 0.070\n\n\n\n\n\n\n\n\n\nI was genuinely surprised by these outputs. I expected the individual relationships between average lobster size (carapace length) and average reef bottom temperature to be stronger and more statistically significant when broken down on a simple site-by-site level.\nI particularly expected to see a new, negative estimate for the Naples reef site, which had previously had an oddly highly positive estimate that was surprisingly statistically significant under an \\(\\alpha\\) level of 0.0001. When isolating that site’s data, we now have a negative estimate of roughly -1.8, but a p-value of 0.2, which is much larger than the previous p-value. This means that the probability of getting results at least as extreme as ours if the null hypothesis were true is around 20%.\nBecause these are simple linear models, we can use the \\(R^2\\) values in our interpretation of the results, rather than the adjusted \\(R^2\\) values.\n\nThe highest \\(R^2\\) value was at the Arroyo Quemado reef site, with a value of 0.44, meaning that around 44% of the variation in our data at the AQUE site can be explained by our model, or 44% of the variation in average lobster carapace size in August can be explained by the average reef bottom temperature in August. With both the intercept (nonsensical) and average temperature coefficient being statistically significant results under an \\(\\alpha\\) level of 0.05, this is an exciting result.\n\nThat’s pretty much where the statistically significant “good news” ends, though classifying this as “good” or “bad” is wrong and limits our ability to learn from these results :)\n\nThe next-highest \\(R^2\\) value is from our Naples Reef regression, and it tells us that roughly 16% of the variation in our Naples Reef data can be explained by our model. I explained the significance of the estimates earlier, and they ultimately lead me to think that there is a lot more going on at the Naples site that is impacting average lobster size than just average reef bottom temperature.\nThe third-highest \\(R^2\\) value is from the Mohawk Reef regression output and suggests that around 13% of the variation in the Mohawk Reef data can be explained by our model (change in average reef bottom temperatures in August). The nonsensical intercept of 90 has a high significance level, and the estimate for the average temperature coefficient is roughly -1.1, which means that for a 1 unit change in average reef bottom temperature in August, average lobster carapace size in August at the Mohawk Reef site is expected to decrease by around 1.1 mm. This estimate has a p-value of 0.3, which is not statistically significant under our \\(\\alpha\\) level of 0.05.\n\nThe other two sites – Carpinteria Reef and Isla Vista Reef – have high p-values for their coefficient estimates and very low \\(R^2\\) values, with just under 1.5% of the variation in the data able to be explained by the models.\nSome key takeaways from this are that the Naples site results particularly changed after being separated from the rest of the data – the sign and degree of the temperature coefficient changed, though its significance level decreased and had a relatively low \\(R^2\\) value.\nAnother key takeaway is that our model works fairly well for the data at the Arroyo Quemado site: we obtained statistically significant estimates and an \\(R^2\\) value of 0.44 with just one term on the right side of the equation. This means that roughly 44% of the variation in our data at this site can be explained by average reef bottom temperature in August.\nA significant limitation to this approach is that each model is run on a very limited dataset of only 10 points – yearly averages from 2012-2022 leaves us with 11 points per subset for all sites other than AQUE, which has 10 due to the lack of August lobster size data in 2014, and MOHK, which has 10 due to the lack of August temperature data in 2017.\n\n\n\n\n\nThe limitations of the lobster data and the low quantity of statistically significant results lead me to question the strength of the results in this study for the most part. One notable exception has been with the Arroyo Quemado Reef data, where – with a simple linear model – the regression results suggest that roughly 44% of the variation in the average lobster carapace size data collected in August at that site can be explained by average reef bottom temperatures in August.\nEarly on in my data analysis process, I considered dropping the AQUE site altogether due to its missing August data in 2014 and unique presence of September data in that year. After continuing on with my analysis, eventually making subsets with and without that September data, running various levels of regression, and plotting averages left and right, I came to appreciate the challenge that this data posed. If I had dropped it, I would have completely missed the most statistically significant result in the whole dataset.\nIt was interesting to see the clear spikes in average reef bottom temperatures in August across all sites in 2015 and 2018, as it shows that our reef bottom temperature data reflects the natural phenomena discussed: 2015/2016 El Niño and the extreme warming of coastal temperatures in Southern California in 2018. All sites saw a decrease in average carapace length in August of 2015 from previous years, which may indicate that there were fewer individuals with larger carapace lengths at all sites when these warming events occurred.\nOverall, the only site that I can make any sort of statistically grounded claim about is the Arroyo Quemado Reef, and even then, with the limited number of data points yielded when taking averages of carapace length and temperature in the month of August over a 10 year period, the final conclusion I have come to is that this subject demands further study and investigation. Science isn’t perfect, and we don’t always get statistically significant results. There is validity and truth in this fact, and protecting primary studies from the pressure to yield statistically significant results is essential, as results that are not statistically significant can still teach us about the population(s) we are trying to study.\n\n\n\nGiven more time and resources, there are a few elements of this analysis that I would change and several “next steps” that would be interesting to pursue.\nAs I have mentioned throughout this notebook, the limitations of the data at various steps proved challenging. I’ve already discussed the challenges of the September 2014 data, but I was also frustrated by the lack of temperature data for the Mohawk site in August of 2017. While I considered using functions like na.approx from the zoo package to make up for this, I ultimately ran out of time to fully achieve the outputs that would make including these steps worthwhile.\nI also attempted to investigate the possible impact that MPA status (whether or not a site falls within a Marine Protected Area) had on the relationship between average August temperature and size, I also failed to get this code to yield any satisfactory outputs.\n\n\n\nBris, A. L., Pershing, A. J., Gaudette, J., Pugh, T. L., & Reardon, K. M. (2017). Multi-scale quantification of the effects of temperature on size at maturity in the American lobster (Homarus americanus). Fisheries Research, 186, 397-406. doi:10.1016/j.fishres.2016.09.008\nBarnard, P. L., Hoover, D., Hubbard, D. M., Snyder, A., Ludka, B. C., Allan, J., Kaminsky, G. M., Ruggiero, P., Gallien, T. W., Gabel, L., McCandless, D., Weiner, H. M., Cohn, N., Anderson, D. L., & Serafin, K. A. (2017). Extreme oceanographic forcing and coastal response due to the 2015–2016 El Niño. Nature Communications, 8(1), Article 1. https://doi.org/10.1038/ncomms14365\nCalifornia Coastal Commission. (2019). Extreme Weather: El Niño. (n.d.). Retrieved December 11, 2023, from https://www.coastal.ca.gov/climate/extreme-weather/el-nino/\nCA Marine Species Portal. (n.d.). Retrieved December 11, 2023, from https://marinespecies.wildlife.ca.gov/california-spiny-lobster/the-species/\nCalifornia Spiny Lobster | California Sea Grant. (n.d.). Retrieved December 12, 2023, from https://caseagrant.ucsd.edu/seafood-profiles/california-spiny-lobster\nCalifornia spiny lobster takes double hit from China market. (n.d.). Retrieved December 14, 2023, from https://www.nationalfisherman.com/west-coast-pacific/california-spiny-lobster-takes-double-hit-from-china-market\nCarter, M. L., Flick, R. E., Terrill, E., Beckhaus, E. C., Martin, K., Fey, C. L., Walker, P. W., Largier, J. L., & McGowan, J. A. (2022). Shore Stations Program Data Archive: Current and historical coastal ocean temperature and salinity measurements from California stations. UC San Diego Library Digital Collections. https://doi.org/10.6075/J0S75GHD (Accessed 2023-12-12)\nCastelao, R. M., & Wang, Y. (2014). Wind-driven variability in sea surface temperature front distribution in the California Current System. Journal of Geophysical Research: Oceans, 119(3), 1861–1875. https://doi.org/10.1002/2013JC009531\nDay, P. B., Stuart-Smith, R. D., Edgar, G. J., & Bates, A. E. (2018). Species’ thermal ranges predict changes in reef fish community structure during 8 years of extreme temperature variation. Diversity and Distributions, 24(8), 1036–1046. https://doi.org/10.1111/ddi.12753\nEllertson, A. A., Waller, J. D., Pugh, T. L., & Bethoney, N. D. (2022). Differences in the size at maturity of female American lobsters (Homarus americanus) from offshore Southern New England and eastern Georges Bank, USA. Fisheries Research, 250, 106276. https://doi.org/10.1016/j.fishres.2022.106276\nGreenhalgh, E. (2016, October 6). Climate & Lobsters. NOAA Climate.gov. http://www.climate.gov/news-features/climate-and/climate-lobsters\nGreenhalgh, E. (2016, December 22). Warming ocean temperatures push lobster populations north. NOAA Climate.gov. http://www.climate.gov/news-features/featured-images/warming-ocean-temperatures-push-lobster-populations-north\nGulf of Maine Warming Update: Summer 2021. (2021, October 26). Gulf Of Maine Research Institute. https://www.gmri.org/stories/gulf-of-maine-warming-update-summer-2021/\nIshaq, S. L., Turner, S. M., Lee, G., Tudor, M. S., MacRae, J. D., Hamlin, H., & Bouchard, D. (2023). Water temperature and disease alters bacterial diversity and cultivability from American lobster (Homarus americanus) shells. iScience, 26(5), 106606. https://doi.org/10.1016/j.isci.2023.106606\nKoenig, E. & American Geophysical Union. (2018, January 23). American lobsters feeling the heat in the northwest Atlantic. Phys.Org. https://phys.org/news/2018-01-american-lobsters-northwest-atlantic.html\nLowder, K. B., deVries, M. S., Hattingh, R., Day, J. M. D., Andersson, A. J., Zerofski, P. J., & Taylor, J. R. A. (2022). Exoskeletal predator defenses of juvenile California spiny lobsters (Panulirus interruptus) are affected by fluctuating ocean acidification-like conditions. Frontiers in Marine Science, 9. https://www.frontiersin.org/articles/10.3389/fmars.2022.909017\nMendelssohn, R., Schwing, F. B., & Bograd, S. J. (2004). Nonstationary seasonality of upper ocean temperature in the California Current. Journal of Geophysical Research: Oceans, 109(C10). https://doi.org/10.1029/2004JC002330\nMonroe, R. (2018, August 2). Highest-Ever Seawater Temperature Recorded at Scripps Pier | Scripps Institution of Oceanography. https://scripps.ucsd.edu/news/highest-ever-seawater-temperature-recorded-scripps-pier\nNeath, A. (2023, November 21). Meet Bowie: The multi-colour, multi-gender lobster. The Independent. https://www.independent.co.uk/news/world/americas/lobster-half-blue-maine-tiktok-bowie-b2450916.html\nOppenheim, N. G., Wahle, R. A., Brady, D. C., Goode, A. G., & Pershing, A. J. (2019). The cresting wave: Larval settlement and ocean temperatures predict change in the American lobster harvest. Ecological Applications, 29(8), e02006. https://doi.org/10.1002/eap.2006\nPaek, H., Yu, J.-Y., & Qian, C. (2017). Why were the 2015/2016 and 1997/1998 extreme El Niños different? Geophysical Research Letters, 44(4), 1848–1856. https://doi.org/10.1002/2016GL071515\nPershing, A. J., Alexander, M. A., Hernandez, C. M., Kerr, L. A., Le Bris, A., Mills, K. E., Nye, J. A., Record, N. R., Scannell, H. A., Scott, J. D., Sherwood, G. D., & Thomas, A. C. (2015). Slow adaptation in the face of rapid warming leads to collapse of the Gulf of Maine cod fishery. Science, 350(6262), 809–812. https://doi.org/10.1126/science.aac9819\nQuinn, B. K., & Rochette, R. (2015). Potential effect of variation in water temperature on development time of American lobster larvae. ICES Journal of Marine Science, 72(suppl_1), i79–i90. https://doi.org/10.1093/icesjms/fsv010\nRecord Warm Waters off Southern California. (2018, August 8). [Text Article]. NASA Earth Observatory. https://earthobservatory.nasa.gov/images/92563/record-warm-waters-off-southern-california\nReed, D. & Miller, R. (2023). SBC LTER: Reef: Abundance, size and fishing effort for California Spiny Lobster (Panulirus interruptus), ongoing since 2012 ver 9. [Data File]. Environmental Data Initiative. https://doi.org/10.6073/pasta/3595322687af94cd532620ad9db94c77 (Accessed 2023-11-22).\nReed, D. & Miller, R. (2023). SBC LTER: Reef: Bottom Temperature: Continuous water temperature, ongoing since 2000 ver 29. [Data File]. Environmental Data Initiative. https://doi.org/10.6073/pasta/3071d4179516b5ae56018bfa03fea9dd (Accessed 2023-12-03).\nRheuban, J. E., Kavanaugh, M. T., & Doney, S. C. (2017). Implications of Future Northwest Atlantic Bottom Temperatures on the American Lobster (Homarus americanus) Fishery. Journal of Geophysical Research: Oceans, 122(12), 9387–9398. https://doi.org/10.1002/2017JC012949\nSea bottom temperature (SBT) Modeling. (n.d.). Florida Fish And Wildlife Conservation Commission. Retrieved December 11, 2023, from https://myfwc.com/research/gis/fisheries/sbt/\nStancioff, E. (2016, March 28). A Maine lobster fishing community confronts their changing climate. NOAA Climate.gov. http://www.climate.gov/news-features/climate-case-studies/maine-lobster-fishing-community-confronts-their-changing-climate\nTanaka, K. (n.d.). Research Highlights: New England Lobster in a Changing Climate: Development of a Forecasting Tool for Habitat Suitability - Maine Climate Office News - University of Maine Cooperative Extension. Maine Climate Office News. The University of Maine. Retrieved December 13, 2023, from https://extension.umaine.edu/maineclimatenews/archives/fall-2014/new-england-lobster-in-changing-climate/\nZacharias, M., & Kushner, D. (2006). Sea temperature and wave height as predictors of population size structure and density of Megastraea (Lithopoma) Undosa: Implications for fishery management. Bulletin of Marine Science, 79, 71–82."
  },
  {
    "objectID": "blog/ca-spiny-lobsters/index.html#introduction-background",
    "href": "blog/ca-spiny-lobsters/index.html#introduction-background",
    "title": "California Spiny Lobsters & Reef Bottom Temperatures",
    "section": "",
    "text": "In this project, I work with data from the Santa Barbara Coast LTER sites, analyzing data using statistical analysis methods covered in the Master of Environmental Data Science program’s Environmental Data Science (EDS) 222: Statistics for Environmental Data Science course taught by Tamma Carleton.\nI first became interested in lobsters in 2021 during the pandemic, when I, and millions of other lobster laypeople came across a now TikTok- and YouTube-famous Maine Lobster fisherman’s videos. In these clips, Jacob Knowles, the current lead of a multi-generational, family-owned lobster fishing operation, candidly portrays what it’s like to be a lobster fisherman in Maine during lobster season. This is a gross generalization, and there are many nuances, including casually disseminated lobster facts and information, special close-ups on rare lobsters (sometimes blue, recently a 1-in-50 million chance half-blue-half-red lobster named Bowie.\nI later learned that Maine Lobster fisheries are threatened by climate change, with rising sea temperatures and environmental pressures pushing American Lobster (Homarus americanus) populations farther north or into general decline if not managed appropriately 1, 2, 3. Intense warming in waters on the East Coast coupled with failure to act and adapt quickly enough has already led to the collapse of the Gulf of Maine cod fishery 4.\nLobsters are sensitive to change, and it can impact their behavior5. Recent studies suggests that changing sea temperatures have implications on the size at which Homarus americanus reach maturity, and bacterial diversity and cultivability 6, 7. Warming that impacts areas that juvenile lobsters rely on can lead them to become inhospitable, which is particularly dangerous as the Gulf of Maine has been warming at a rate faster than 99% of the world’s oceans 8, 9.\nGiven all of this established background and concern over the American Lobsters, as a Santa Barbara resident and lifelong fan of the California coast and all of its marine life, I wondered if the California Spiny Lobster Panulirus interruptus, was facing similar threats.\n\nImage credits: Brett Seymour for NPS\nThe species is currently listed as a species of “least concern” on the IUCN Redlist, and their populations have been managed by the California Department of Fish and Wildlife for decades. If you aren’t already convinced, I’m happy to inform you that the CA Spiny Lobster is significant both economically and ecologically. In the 2017-2018 fishing season, the commercial fishery accounted for roughly $12.7 million in ex-vessel value, and the recreational fishery contributes “between $33-40 million in consumer spending to the California economy each year.” 10\nDo you think kelp forests are cool? Well, these lobsters are also a keystone species in California’s kelp forest ecosystems. They’re a key predator of purple sea urchins, which love to eat the Giant Kelp that the rest of the ecosystem depends on. Spiny lobsters relieve this predation (urchin grazing) on Giant Kelp forests and as many larger fish prey on these lobsters, they are a key, mid-trophic level species11. They typically forage at night, and according to the CADFW’s Marine Species Portal, “the Spiny lobster provides an important role in the ecology of rocky reefs, and it is associated with critical habitats such as surfgrass beds.” 12\nThe Santa Barbara Coast and the Channel Islands National Park are key areas of the California Spiny Lobsters’ habitat:\n\nThe presence of eelgrass or surfgrass in the rocky reefs in these areas also provide critical habitat for the 11 larval stages of Spiny lobsters.\nPanulirus interruptus are estimated to reach sexual maturity at around 5-7 years old (Females typically take longer to mature) which is estimated by a carapace length of 2.5 inches, or 63.5 millimeters 13. The CA Department of Fish & Wildlife manages the Spiny Lobster populations in part by restricting the months during which it is legal to hunt/fish for them. The fishing season is from early October to mid-March, which allows populations to recover in the off-season, as this species has a complex reproductive cycle and needs to molt (shed their exoskeleton) which makes them especially vulnerable to predation. The legal catch size is 3.25 inches, or 82.55 millimeters 14. Overall, it seems that the populations are able to remain stable thanks to the careful management of the CADFW.\n\nThis diagram labels key attributes of the California Spiny Lobster, including the area that is measured to obtain the carapace length (CL) measurements used in determining maturity, catch length, and as a proxy for age.\nI also became interested in investigating how the 2015/2016 El Niño may have impacted Spiny lobster populations, as it was the most extreme El Niño in the previous 145 years15. With the warmer sea surface temperatures associated with El Niño events, would we see populations being impacted on the Santa Barbara Coast?\n\n\nThe Santa Barbara Coastal Long Term Ecological Research project (SBC LTER) has many study sites at which a wide variety of data are collected, from fish abundance and population dynamics to complex water chemistry and temperature data. Using this data and the context given above, I tried to answer the question: What is the relationship between California Spiny Lobster populations and reef bottom temperatures?\nTo investigate the relationship between CA Spiny Lobsters populations and reef bottom temperatures, I used carapace length as it is the primary size metric for lobsters and is used as a proxy measurement for age, which can help provide information about the population structure at various reef sites. I also used reef bottom temperatures (as apposed to sea surface temperatures (SST). All of this data was collected at reef study sites in the SBC LTER network.\nThe five SBC LTER Reef sites that I’ll be using data from in this analysis are:\n\nArroyo Quemado Reef: site code “AQUE”\n\ndepth range: 5.4 meters to 10.7 meters\n\nNaples Reef: site code “NAPL”\n\ndepth range: 5.9 m to 13.4 m\n\nIsla Vista Reef: site code “IVEE”:\n\ndepth range: 8.2 m to 8.8 m\n\nMohawk Reef: site code “MOHK”:\n\ndepth range: 4.5 m to 6.0 m\n\nCarpinteria Reef: site code “CARP”:\n\ndepth range: -2.2 m to -8.8 m\n\n\nI’ve labeled these on a screenshot of a geographically contextual rendered map preview from the SBC LTER wesite:\n\nTwo of these sites, Naples (NAPL) and Isla Vista (IVEE), indicated with a black line connecting them, are in Marine Protected Areas (MPAs)."
  },
  {
    "objectID": "blog/ca-spiny-lobsters/index.html#about-the-data",
    "href": "blog/ca-spiny-lobsters/index.html#about-the-data",
    "title": "California Spiny Lobsters & Reef Bottom Temperatures",
    "section": "",
    "text": "This dataset contains records on the abundance, size, and fishing effort on the California Spiny Lobster, Panulirus interruptus, at five SBC LTER study sites, with records from August 2012 to August 2023.\nWhile most data was collected in the month of August at the selected study sites, there is a discrepancy that is very relevant to our analysis. - In 2014, the Arroyo Quemado Reef (site code AQUE) only had data collected in September (56 observations), and the Isla Vista Reef site (site code IVEE) had 6 carapace length observations collected in September and 114 in August of that same year.\nThis is relevant to our analysis because both carapace length and ocean temperatures are related to the time of year – as more time passes, lobsters grow in size, and water temperatures fluctuate seasonally, as shown in this data visualization of monthly mean temperatures from Shore Stations (one of the Scripps Institution of Oceanography’s programs that works to collect daily temperature (SST) and salinity records at sites along the California coast from La Jolla to Trinidad).\n\n\n\n5 year monthly mean SSTs vs long-term averages\n\n\nNotes on methods, limitations: “Transects were sampled by two SCUBA divers during daylight hours” – this is notable because lobsters are most active at night, which may add further limitations on the ability of the sample of the population, so any conclusions we come to based on our analysis of these data may not have as much significance or strength in our ability to make claims about the true population.\nData Citation:\nReed, D. & Miller, R. (2023). SBC LTER: Reef: Abundance, size and fishing effort for California Spiny Lobster (Panulirus interruptus), ongoing since 2012 ver 9. [Data File]. Environmental Data Initiative. https://doi.org/10.6073/pasta/3595322687af94cd532620ad9db94c77 (Accessed 2023-11-22).\nFigure Citation: Carter et. al., 2022.\n\n\n\nThis dataset contains records of the water temperature at the bottom (or a relatively low, non-surface depth) at nine of the SBC LTER Reef study sites in 15 minute intervals beginning in 2000 up to July 4th, 2023. I accessed this continuous water temperature dataset via the EDI Data Portal. The primary data file on this portal is a .csv, which is 372.8 MB. The key variables that I’ll be using in this data set are:\n\nSite_code (default column name: SITE), which contains a string of the name of the field site that each measurement was taken at. Note that the depth of temperature logger at each site varies from 4.95 to 8.15 meters.\ndate (default column name: DATE_LOCAL), which contains the date of observation in the format YYYY-MM-DD\nTemperature in Celsius (default column name: TEMP_C): Ambient water temperature, measured with Onset tidbit. “tidbit” refers to the measurement instrument, a 32K StowAway TidbiT (-5 deg C to 37 deg C) manufactured by Onset Computer Corporation.\n\nThe NA code for this dataset is -99999.\nYou can download the data using this link, or you can copy and paste that download link directly into your read_csv() function as I did in my analysis below.\nData Citation:\nSanta Barbara Coastal LTER, D. Reed, and R. Miller. (2023). SBC LTER: Reef: Bottom Temperature: Continuous water temperature, ongoing since 2000 ver 29. [Data File]. Environmental Data Initiative. https://doi.org/10.6073/pasta/3071d4179516b5ae56018bfa03fea9dd (Accessed 2023-12-03).\n\n\nI used the following libraries in my analysis and plotting:\n\n\nCode\n# for tidy data etc.\nlibrary(tidyverse)\nlibrary(janitor) \nlibrary(lubridate)\n\n# for output formatting\nlibrary(gt)\nlibrary(tufte)\nlibrary(patchwork) # for displaying multiple plots\n\n# for reading in data\nlibrary(here) # for reproducible filepaths (like os in Python)\nlibrary(readr)\n\n# for analysis\nlibrary(vegan) # for creating a diversity index\nlibrary(feasts)\nlibrary(tsibble)\nlibrary(forecast)\n\n# for nice regression output\nlibrary(sjPlot)\n\n\n\n\n\n\n\n\n\n\nCode\n# read in lobster abundances & size data from EDI portal link\nlobster_data &lt;- read_csv(\"https://portal.edirepository.org/nis/dataviewer?packageid=knb-lter-sbc.77.9&entityid=f32823fba432f58f66c06b589b7efac6\",\n                         na = c(\"-99999\")) # specifying NA value labels\n\n\nlobster_size &lt;- lobster_data %&gt;% \n  clean_names() %&gt;%  #  lower_snake_case column names\n  # this dataset also has abundance, along with other information that we won't be using in our analysis. let's select what we're interested in:\n  mutate(\"month\" = lubridate::month(date, label = FALSE)) %&gt;% \n  select(year, month, date, site, size_mm) %&gt;% \n  # filtering out NA values for size_mm \n  drop_na(size_mm)\n  \n# head(lobster_size, 2) %&gt;% gt()\n\n\n\n\n\n\n\nCode\n# this is a large file (372.8 MiB), so don't be alarmed if this step takes a while\nwater_data &lt;- read_csv(\"https://portal.edirepository.org/nis/dataviewer?packageid=knb-lter-sbc.13.29&entityid=d707a45a2cd6eee1d016d99844d537da\")\n\nwater_data &lt;- water_data %&gt;% \n  clean_names() %&gt;% \n  rename(\"date\" = date_local) %&gt;%  # cleaning names\n  mutate(\"year\" = lubridate::year(date), # adding columns to join by\n         \"month\" = lubridate::month(date)) %&gt;%   # and filter later on\n  select(year, month, date, site, temp_c)\n  \n  \n# head(water_data, 2) %&gt;% gt()\n\n\nOmitted for brevity, the preliminary outputs show that the primary variables (columns) we’ll be working with are related to the date, site, and measurement variable (size_mm and temp_c). I also found it interesting that the first row in the temperature dataset has a starting date of August, 2002, when the data repository claims that the temperature data ranges back to 2000."
  },
  {
    "objectID": "blog/ca-spiny-lobsters/index.html#preliminary-plotting-data-exploration",
    "href": "blog/ca-spiny-lobsters/index.html#preliminary-plotting-data-exploration",
    "title": "California Spiny Lobsters & Reef Bottom Temperatures",
    "section": "",
    "text": "Let’s check our data for normality to see what our options are in terms of analysis:\n\n\nCode\n# check to see if normally distributed\n\nmean_size &lt;- mean(lobster_size$size_mm)\nsd_size &lt;- sd(lobster_size$size_mm)\n\nlobster_size_dist &lt;- ggplot(data = lobster_size) +\n  geom_histogram(aes(x = size_mm),\n                 fill = \"seagreen\",\n                 color = \"black\",\n                 bins = 45) +\n  geom_vline(xintercept = mean_size,\n             linetype = \"dashed\",\n             color = \"skyblue\",\n             linewidth = 0.8,\n             size = 0.6) + \n  geom_vline(xintercept = mean_size + (2 * sd_size),\n             linetype = \"dotted\",\n             size = 0.6) + \n  geom_vline(xintercept = mean_size - (2 * sd_size),\n             linetype = \"dotted\",\n             size = 0.6) + \n  theme_bw() +\n  labs(title = \"Distribution of California Spiny Lobster Size\", \n       subtitle = \"SBC LTER CA data (2012-2023), size measured by carapace length (mm)\",\n       x = \"Carapace Length (mm)\",\n       y = \"Count\")\n\n\nlobster_size_dist\n\n\n\n\n\nThe data appears relatively normally distributed, with a clear aggregation of the data around the mean (light blue, dashed line) and the bulk of the data within two standard deviations away from the mean (black dotted lines). There is also a right tail indicating several counts of higher values.\n\n\nCode\n# check to see if normally distributed\nmean_temp &lt;- mean(water_data$temp_c)\nsd_temp &lt;- sd(water_data$temp_c)\n\ntemp_dist &lt;- ggplot(data = water_data) +\n  geom_histogram(aes(x = temp_c),\n                 fill = \"cornflowerblue\",\n                 color = \"black\",\n                 bins = 45) +\n  geom_vline(xintercept = mean_temp,\n             linetype = \"dashed\",\n             linewidth = 1,\n             color = \"darkturquoise\",\n             size = 0.7) + \n  geom_vline(xintercept = mean_temp + (2 * sd_temp),\n             linetype = \"dotted\",\n             size = 0.6) + \n  geom_vline(xintercept = mean_temp - (2 * sd_temp),\n             linetype = \"dotted\",\n             size = 0.6) + \n  theme_bw() +\n  labs(title = \"Distribution of Reef bottom temperatures (ºC) (2002-2023)\", \n       subtitle = \"at nine SBC LTER Reef sites \",\n       x = \"Temperature (ºC)\",\n       y = \"Count\")\n\n\ntemp_dist\n\n\n\n\n\nThe data appears relatively normally distributed, with a clear aggregation to the slight left of the mean (blue dashed line) the bulk of the data falling within 2 standard deviations away from the mean (dotted black lines) . There is also a right tail and right skew.\nTo know what we should do with our “outlier” September data records, let’s see the number of data points that were collected in September at the two sites we know they were collected at.\n\n\nCode\nsept_data &lt;- lobster_size %&gt;% \n  filter(month == 9) \n\n# we can also see that the only year that size data was collected in was 2014\n#print(unique(sept_data$year))\nprint(unique(sept_data$site))\n\n\n[1] \"IVEE\" \"AQUE\"\n\n\nCode\n# finding proportion of IVEE data collected in September, 2014\niv_2014 &lt;- lobster_size %&gt;% \n  filter(site == \"IVEE\",\n         year == 2014) \n\niv_sept &lt;- iv_2014 %&gt;% filter(month == 9) \niv_sept_pct &lt;- nrow(iv_sept) / nrow(iv_2014) * 100\n\n\n# we can also see that all of site AQUE's data in 2014 was collected in September:\naq_2014 &lt;- lobster_size %&gt;% \n  filter(site == \"AQUE\",\n         year == 2014)\n\naq_sept &lt;- aq_2014 %&gt;% filter(month == 9) \naq_sept_pct &lt;- nrow(aq_sept) / nrow(aq_2014) * 100\n\n\nprint(paste0(\"The September data records account for \", round(iv_sept_pct, 2), \"% of IVEE Reef's 2014 data points\"))\n\n\n[1] \"The September data records account for 5.26% of IVEE Reef's 2014 data points\"\n\n\nCode\nprint(paste0(\"The September data records account for \", round(aq_sept_pct, 3), \"% of AQUE Reef's 2014 data points\"))\n\n\n[1] \"The September data records account for 100% of AQUE Reef's 2014 data points\"\n\n\nPreliminary exploration shows us that the primary month that data was collected in is August (month == 8), with the exception of AQUE and IVEE study sites in 2014, where data was collected in September (site IVEE (around 5% of the site’s 2014 observations) and AQUE (100% of the site’s 2014 observations)).\nAs 2015 is an important year for our study (El Niño), it is important to have a baseline of lobster carapace size from the year before. Because this data collection began in 2012, leaving out the 2014 September data for the AQUE site would mean only have 2 years of precedent before the El Niño event. Having only\nDue to the nature of lobster carapace size increasing over time (positive age-size relationship), if we include the 2014 September data for AQUE, we could get a falsely high “baseline” carapace size for that study site before the El Niño event, which could skew our results. An additional concern I have is about how our average Reef bottom temperature data will interact in all of this. Sea surface temperatures fluctuate over time and both seasonal variation and wind levels can impact ocean temperatures on the California Coast 16,17.\nAnother issue that comes up with excluding 2014 data for the AQUE study site is that in all other sites, the average carapace size (mm) was greater in 2014 than in 2013. This could mean that by excluding 2014 data for the AQUE study site, in our attempt to avoid a falsely high baseline/comparison point, we are obtaining a falsely low one. If we include both months of 2014 data, the IVEE study site is also skewed to have higher average carapace sizes for that year, as I’ll show later.\nTo address this discrepancy in the data, In my analysis, I will make two subsets: one in which we keep all of our data (denoted in our outputs as August data and August & September data), and the other will only include data collected in August. We can compare the results of our statistical analyses as we go."
  },
  {
    "objectID": "blog/ca-spiny-lobsters/index.html#averages",
    "href": "blog/ca-spiny-lobsters/index.html#averages",
    "title": "California Spiny Lobsters & Reef Bottom Temperatures",
    "section": "",
    "text": "First, we’ll make two subsets (August vs. August & September) and then we’ll plot the average carapace lengths over time, grouped by site,\n\n\nCode\n# making a tidied subset, finding average count and size per year per site\n\n# keeping data from August and September\nlobster_all &lt;- lobster_size %&gt;% \n  group_by(year, site) %&gt;% \n  summarize(avg_size = mean(size_mm, na.rm = TRUE),\n            max_size = max(size_mm, na.rm = TRUE), \n            min_size = min(size_mm, na.rm = TRUE))\n\n# keeping August data only\nlobster_august &lt;- lobster_size %&gt;%  \n  filter(month(date) == 8) %&gt;% \n  group_by(year, site) %&gt;% \n  summarize(avg_size = mean(size_mm, na.rm = TRUE),\n            max_size = max(size_mm, na.rm = TRUE), \n            min_size = min(size_mm, na.rm = TRUE))\n\n\n\nAugust & SeptemberAugust\n\n\n\n\nCode\n# plot average lobster size per site per year, including September data\nlobster_size_plot_all &lt;- lobster_all %&gt;%  ggplot() + \n  geom_point(aes(x = year, y = avg_size,\n                 color = site)) +\n  geom_line(aes(x = year, y = avg_size,\n                 color = site)) +\n  # carapace length at sexual maturity \n  geom_hline(yintercept = 63.5,\n             linetype = \"dashed\",\n             alpha = 0.6) + \n  # catch length\n  geom_hline(yintercept = 82.55,\n             linetype = \"dashed\",\n             alpha = 0.6) + \n  # 2015 El Niño\n  geom_vline(xintercept = 2015,\n             linetype = \"dotted\") + \n  facet_wrap(~site) +\n  theme_bw() +\n  theme(strip.background = element_rect(fill = \"transparent\")) +\n  labs(\n    #color = \"Site\",\n       x = \"Year\",\n       y = \"Average Carapace Length (mm)\",\n       title = \"Annual average Spiny Lobster carapace length (2012-2023)\",\n       subtitle = \"organized by SBC LTER study site\") +\n  theme(legend.position = \"none\")\n\n\nlobster_size_plot_all\n\n\n\n\n\n\n\n\n\nCode\n# plot average lobster size per site per year\nlobster_size_plot_august &lt;- lobster_august %&gt;%  ggplot() + \n  geom_point(aes(x = year, y = avg_size,\n                 color = site)) +\n  geom_line(aes(x = year, y = avg_size,\n                 color = site)) +\n  # showing lobster size of sexual maturity \n  geom_hline(yintercept = 63.5, linetype = \"dashed\", color = \"dimgrey\", alpha = 0.5) + \n  geom_hline(yintercept = 82.55, linetype = \"dashed\", alpha = 0.5) + \n  geom_vline(xintercept = 2015,  linetype = \"dotted\") + # showing 2015 El Niño\n  facet_wrap(~site) +\n  theme_bw() +\n  theme(strip.background = element_rect(fill = \"transparent\")) +\n  labs(\n    #color = \"Site\",\n       x = \"Year\",\n       y = \"Average Carapace Length (mm)\",\n       title = \"Annual average Spiny Lobster carapace length (2012-2023)\",\n       subtitle = \"organized by SBC LTER study site, data collected in August only\") +\n  theme(legend.position = \"none\")\n\nlobster_size_plot_august\n\n\n\n\n\n\n\n\n\nThe vertical dotted line indicates the first year of the 2015-2016 El Niño\nThe lower dashed horizontal line indicates the average estimated size (and corresponding age) at which the California Spiny Lobster reaches sexual maturity: around 2.5 inches (63.5 mm), or 58mm and 5 years old for Males and 70 mm and roughly 7 years old for Females 18, 19.\nThe higher dashed horizontal line indicates the minimum legal catch size: a carapace measuring 3.25 inches or 82.55 mm, or around 8-13 years old (estimated age range of 7-11 for Males, 8-13 for Females) 20.\n\n\n\n\nNote the significant difference in slopes between year 2014 and 2015 data points for average carapace size (mm) at the AQUE study site between the September-inclusive and September-exclusive (August only) plots. There is also a subtle change at the IVEE study site between 2014 and 2015 between the two plots as well, supporting what we know about how carapace lengths increase over time, even on a monthly level.\n\nTaking the average size (carapace length) per site per year shows potentially interesting trends. At all sites, there is a notable drop in average carapace length (mm) from 2014 to 2015, both including and excluding September 2014 data. This significant change in slope of the lines connecting data points for average carapace length coincides with the 2015/2016 El Niño, which was the strongest over a 145 year record 21. During El Niño events, sea surface temperatures (SST) rise, and SST estimates can also serve as an indicator for coastal ocean temperature levels – if SST is rising, the temperatures at the bottom of relatively shallow, coastal reef sites are likely rising as well. In some cases, depending on the thermocline (inverted or not) that a reef experiences, Sea Bottom Temperatures (SBT) can even be higher than SST 22.\nThese visualizations suggests that the Santa Barbara Coast LTER sites are somewhat of a haven for California Spiny lobsters in their first few of years of breeding, as stated on the CADFW info page on the California Spiny lobster. As this graph shows an average carapace size, and lobsters can vary significantly in size depending on their age, these research sites are likely home to a wide age and developmental stage range of lobsters.\nLet’s move on to incorporate the other essential data in investigating the relationship between reef bottom temperatures and average lobster size (carapace length, mm), – Reef bottom temperature!\n\n\n\n\nOur reef bottom temperature data is pretty huge – temperatures were recorded every 15 minutes at multiple SBC LTER study sites since 2002.\nRegarding our previous dilemma of “to include or not to include” September carapace length data, we now have an opportunity to decide how we want to aggregate our reef bottom temperature data. I could filter it by month, keeping temperature records only from the month of August, or I could include September as well. I could also have another different subset, which incorporates temperature data from August and September only at sites IVEE and AQUE for 2014, and filter it to only keep August dates for all other sites that year and all sites at all years. This can get pretty complicated pretty quickly, as the easiest inclusive option – filtering just for August and September – has the drawback of interfering with the estimated relationship between average carapace length and water temperature for the majority of our data.\nIn my analysis, I’ve decided to only select reef bottom temperature records in the month of August, which I then average and join with the lobster data by year and by site.\nFirst, we’ll plot the average August reef bottom temperature per year across all sites, noting the spike in temperature in the first year of the 2015/2016 El Niño. This dataset ranges from 2002 to 2023, but the last month of the record is July, so we’ll have August data spanning from 2002-2023 before we join it with our lobster data set. Then, we’ll plot the average August temperatures over time by site, comparing with the average size by site plot created earlier.\n\n\nCode\n# prepping water temp data to compare with lobster data\n\n# finding average August reef bottom temperatures across all sites over \n# the full time range of our water dataset (2002-2022)\nallsites_aug_temps &lt;- water_data %&gt;% \n  filter(month %in% c(8)) |&gt; # select August temps\n  filter(site %in% c((unique(lobster_size$site)))) %&gt;% # selecting Lobster data study sites\n  group_by(year) %&gt;%  \n  summarize(avg_temp = mean(temp_c, na.rm = TRUE)) # find avg temp\n\n\naugust_temps &lt;- water_data %&gt;%\n  filter(site %in% c((unique(lobster_size$site)))) %&gt;% \n  filter(month == 8)\n\nmean_aug_temp &lt;- mean(august_temps$temp_c)\n\nprint(paste0(\"The average August reef bottom temperature across the 5 reef study sites from 2002-2022 is \", round(mean_aug_temp, 2), \"ºC.\"))\n\n\n[1] \"The average August reef bottom temperature across the 5 reef study sites from 2002-2022 is 16.19ºC.\"\n\n\n\n\nCode\n# making a subset to show selected year range\nallsites_aug_temp_plot &lt;- ggplot(data = allsites_aug_temps) +\n  geom_point(aes(x = year, \n                 y = avg_temp)) +\n  geom_line(aes(x = year, \n                y = avg_temp)) +\n  geom_vline(xintercept = 2015,  linetype = \"dotted\") + # showing 2015 El Niño \n  scale_x_continuous(breaks = (seq(2000,2022, by = 5)), \n                     minor_breaks = seq(2002, 2022, by = 1)) +\n  theme_bw() +\n  labs(title = \"Average Reef Bottom Temperatures in August Over Time\",\n       subtitle = \"across selected SBC LTER study sites (2002-2022)\", \n       x = \"Year\",\n       y = \"Average Temperature (ºC)\") +\n  annotate(\"text\", x=2014, y=19, label=\"El Niño\", angle=0) \n\n\nallsites_aug_temp_plot\n\n\n\n\n\nThere is a clear spike in average reef bottom temperature in August of 2015 across all study sites, and a significant dip in 2010. There is also a notable spike (and maximum peak) at all sites in 2018. There were record-breaking SST anomalies in 2018 at many points along the Southern California Coastline, particularly along La Jolla, San Diego, where the Scripps Institution of Oceanography recorded water temperatures of 25.9 degrees Celsius, beating the previous record of 25.8 C from 1931 23, 24.\nNow we’ll join the lobster size data and the temperature data, which will narrow our time range to 2012-2022.\n\n\nCode\n# making august-only water temp subset\naugust_site_temps &lt;- water_data %&gt;%  \n  filter(month(date) %in% c(8)) %&gt;%  # select August temps\n  filter(site %in% c((unique(lobster_size$site)))) %&gt;%  # selecting Lobster data study sites\n  group_by(year, site) %&gt;%  # grouping by year and site to join (only 1 month, no need to group by it)\n  summarize(avg_temp = mean(temp_c, na.rm = TRUE)) # find avg temp\n\n\nlobster_temps_august &lt;- inner_join(lobster_august, august_site_temps) %&gt;% \n  select(-max_size, -min_size)\n\n\n# this will make sure that we're comparing the same month for each site and each year, \n# so for most years, sites, and months, it'll be august data\n# but for the 2014 AQUE and IVEE data collected in September,\n\nsite_temps &lt;- water_data %&gt;%  \n  filter(month(date) %in% c(8, 9)) %&gt;%  # select August and September temps\n  filter(site %in% c((unique(lobster_size$site)))) %&gt;%   # selecting Lobster data study sites\n  group_by(year, month, site) %&gt;%  # grouping by year, month, and site, so we can join by all \n  summarize(avg_temp = mean(temp_c, na.rm = TRUE)) # find avg temp\n\n# we'll be pairing those averages with average temperature in September\nlobster_temps_all &lt;- inner_join(site_temps,\n                                lobster_all) %&gt;%  # this df also has maintained its \"month\" column\n  select(-max_size, -min_size)\n\n\n\nAvg. TemperaturesAvg. Sizes\n\n\n\n\nCode\n# plotting august temp trends per site, within our lobster data time range\n\naugust_temp_trends &lt;- ggplot(data = lobster_temps_august, aes(x = year, y = avg_temp)) +\n  geom_hline(yintercept = 16.19, \n             linetype = \"dashed\", \n             alpha = 0.6) + \n  geom_vline(xintercept = 2015,\n             linetype = \"dotted\") + # showing 2015 El Niño\n  geom_point(aes(color = site)) +\n  geom_line(aes(color = site)) +\n\n  scale_x_continuous(minor_breaks = seq(2012,2022, by=1),\n                     breaks = seq(2012,2022, by=4)) +\n\n  theme_bw() +\n  facet_wrap(~site) +\n  theme(strip.background = element_rect(fill = \"transparent\")) +\n  labs(title = \"Average Reef Bottom Temperatures in August Over Time\",\n       subtitle = \"organized by selected SBC LTER study sites (2012-2022)\", \n       x = \"Year\",\n       y = \"Average Temperature (ºC)\") +\n#  annotate(\"text\", x=2011, y=19, label=\"El Niño\", angle=0) # label looks messy on faceted plot, but is worthwhile to add on individual site plots\n  theme(legend.position = \"none\") # we're coloring and facet wrapping by site, so a legend is redundant\n\n\naugust_temp_trends \n\n\n\n\n\n\n\n\n\nCode\nlobster_size_plot_august\n\n\n\n\n\n\n\n\nThe dotted vertical line in each graph once again shows the beginning of the 2015/2016 El Niño. The dashed horizontal lines in the temperature plots show the 20-year average August reef bottom temperature (from 2002-2022). The dashed horizontal lines in the average size plot show the carapace lengths at sexual maturity (lower) and catch size (higher).\nComparing our average temperature and average size plots side by side, there seems to be visual evidence for some trends or relationship between average temperature and average carapace length. At all sites, in 2015 when the average August temperature spikes, average carapace lengths decrease. At the Naples reef site, after the temperature spikes in 2018 and falls dramatically in 2019, we see a spike in average carapace length in 2019. As average August reef bottom temperatures continue to fall in 2020 in Naples, lower than the average temperature over the previous 8 years, the average carapace size seems to drop slightly at that site. The most extreme drops in average carapace length at sites Arroyo Quemado, Carpinteria, and Mohawk happen when the temperature spikes in 2015. When temperatures fall back down closer to the 20-year average August reef bottom temperature in 2016, the Arroyo Quemado reef site is the only site where average carapace lengths seem to recover within that annual cycle. Unfortunately, we are missing temperature data at the Mohawk reef site in 2017. Overall, there seem to be complexities in the population structures at all sites, with similar overall trends in average August reef bottom temperature."
  },
  {
    "objectID": "blog/ca-spiny-lobsters/index.html#lobster-size-reef-temperature-relationship",
    "href": "blog/ca-spiny-lobsters/index.html#lobster-size-reef-temperature-relationship",
    "title": "California Spiny Lobsters & Reef Bottom Temperatures",
    "section": "",
    "text": "In this section, we will:\n\n\nlook at the general relationship between our size and temperature variables (plot)\nrun multiple linear regression (size ~ temp + site)\nrun multiple regression with an interaction term (size ~ temp + site + temp:site)\nrun simple linear regression (size ~ temp) for each site\n\n\n\nBefore we dive into the complexities of the relationship between average carapace length in August and average reef bottom temperature in August, let’s take a more general look at the combined data that we’re working with.\nHere we’ll plot our joined size & temperature data subset with data exclusively collected in August each year from 2012-2022:\n\n\nCode\n# preliminary plot of the joined data\nlobster_temps_august_plot &lt;- ggplot(data = lobster_temps_august, \n                             aes(x = avg_temp,\n                                 y = avg_size)) + \n  geom_jitter(alpha = 0.7) +\n  geom_smooth(method='lm',\n              formula= y~x,\n              na.rm = TRUE,\n              color=\"seagreen\",\n              se=TRUE) +\n  scale_x_continuous(expand = c(0,0), limits = c(14.5, 20)) +\n  scale_y_continuous(expand = c(0,0), limits = c(65, 94)) + \n  theme_bw() +\n  ggpubr::stat_regline_equation(\n    aes(label = after_stat(eq.label))) + \n  labs(title = \"Average Lobster Size by Average Reef Bottom Temperature (August, annual averages)\", \n       subtitle = \"SBC LTER data on California Spiny Lobster carapace length (mm), reef bottom temperatures (ºC)\", \n       x = \"Average Temperature (ºC)\",\n       y = \"Average Size (mm)\")\n\n# view plots\nlobster_temps_august_plot\n\n\n\n\n\nThere seems to be a relationship here, where as average reef bottom temperatures increase, average lobster carapace lengths decrease, though with relatively few data points here and the impact that site may have on this relationship not accounted for in this plot, it is hard to make any real claims.\n\n\n\nWith our current data, we can model the relationship between average carapace length (mm) in August with the following multiple regression equation:\n\\[\\mu CL_i =\\beta_{0}+\\beta_{1} \\mu Temp_i +\\beta_{2} \\text Site+\\varepsilon_i\\] Where\n\n\\(\\mu CL\\) is the average carapace length, in millimeters, in August\n\\(\\beta_{0}\\) is the intercept, or expected average carapace length, in millimeters, when the average August temperature is 0º C and site is held constant (for our reference site, AQUE)\n\\(\\beta_{1}\\) is the slope or expected change in average carapace length given a 1 unit change in average temperature (1º C), when site is held constant (for our reference site, AQUE)\n\\(\\beta_{2}\\) is the difference in slope or expected change in average carapace length given a 1 unit change in average temperature (1º C) between our reference group (site AQUE) and each other site.\n\\(\\varepsilon\\) is our error term, containing everything else that impacts average expected carapace length as measured in August.\n\nOnce again, whenever I say “average”, followed by any term, I’m referring to the average of that variable as measured in August of each year.\nMultiple Regression: \\[\\mu CL_i =\\beta_{0}+\\beta_{1} \\mu Temp_i +\\beta_{2} \\text Site+\\varepsilon_i\\]\n\n\nCode\n# run simple linear regression on temp and size, taking temperature differences at each site into account\n\n# for august-only data\nlobster_temp_reg_august &lt;- lm(formula = avg_size ~ avg_temp + site, data = lobster_temps_august)\n# summary(lobster_temp_reg_august)\n\n\n# for september-inclusive lobster data and august-only water temp data\nlobster_temp_reg &lt;- lm(formula = avg_size ~ avg_temp + site, data = lobster_temps_all)\n# summary(lobster_temp_reg)\n\n\n# use sjPlot to show a comparison of the outputs from running these models\n\nsjPlot::tab_model(lobster_temp_reg_august, lobster_temp_reg,\n                  #  title = \"Multiple Regression: formula = average  ~ avg_temp + site\",\n                  dv.labels = c(\"August\", \"August & September\"),\n                  digits = 3\n)\n\n\n\n\n\n \nAugust\nAugust & September\n\n\nPredictors\nEstimates\nCI\np\nEstimates\nCI\np\n\n\n(Intercept)\n93.915\n77.190 – 110.640\n&lt;0.001\n88.867\n78.728 – 99.006\n&lt;0.001\n\n\navg temp\n-1.156\n-2.106 – -0.206\n0.018\n-0.838\n-1.407 – -0.269\n0.004\n\n\nsite [CARP]\n0.408\n-3.255 – 4.071\n0.824\n0.291\n-2.166 – 2.748\n0.815\n\n\nsite [IVEE]\n0.057\n-3.751 – 3.864\n0.976\n0.285\n-2.226 – 2.796\n0.822\n\n\nsite [MOHK]\n-2.106\n-5.860 – 1.648\n0.265\n-2.207\n-4.725 – 0.312\n0.085\n\n\nsite [NAPL]\n6.975\n3.296 – 10.654\n&lt;0.001\n6.843\n4.380 – 9.306\n&lt;0.001\n\n\nObservations\n53\n108\n\n\nR2 / R2 adjusted\n0.437 / 0.377\n0.407 / 0.378\n\n\n\n\n\n\n\n\n\nInterpretation of coefficients in August-only Regression:\n\nIntercept: at the Arroyo Quemado Reef (AQUE) study site (our reference group), when the reef bottom temperature is 0º Celsius, the expected lobster carapace size is 93.91 mm (nonsensical, from the SBC LTER records of reef bottom temperatures, which have been recorded every 15 minutes, ongoing since 2002, the minimum recorded temperature of all time in our data set is r(min(water_data$temp_c)) º Celsius).\nSlope: avg_temp: Holding site constant (comparing average lobster carapace lengths and average water temperatures only to those of the same SBC LTER study site), at the AQUE study site, given a one unit change in average reef bottom temperature (an increase of 1º Celsius) as measured in August, we expect the average carapace length of lobsters to change by -1.16 mm.\n\nInterpretation of site coefficients:\nNote, the coefficients following avg temp are to be interpreted in relation to avg temp, as it represents AQUE, our reference group.\n\nsiteCARP: For the SBC LTER Carpinteria Reef study site, given a 1º Celsius change (increase) in average reef bottom temperature measured in August, we expect to see a 0.41 mm increase in average lobster carapace size as compared to the AQUE site expected slope of -1.14 mm per 1 degree increase in Celsius, for a total expected change in average lobster carapace length of -0.75 mm.\n\n(moving forward, I will only describe the overall or total expected change (site [___] + avg temp)):\n\nsiteIVEE: For the SBC LTER Isla Vista Reef study site, given a 1º Celsius increase (in average reef bottom temperature in August), we expect to see a change in average lobster carapace length of -1.1 mm.\nsiteMOHK: For the SBC LTER Mohawk Reef study site, given a 1º Celsius increase in average reef bottom temperature in August, we expect to see a change in average lobster carapace length of -3.26 mm.\nsiteNAPL: For the SBC LTER Naples Reef study site, given a 1º Celsius increase in average reef bottom temperature in August, we expect to see a change in average lobster carapace length of 5.82 mm. This positive value is perhaps a sign that something more complicated is going on at this site, or perhaps in general. It also doesn’t seem to align with the visual evidence in our average temperature- and average CL-by-site plot earlier: following the temperature spike in 2015, the sample average carapace length fell, and after average temperatures began to decrease significantly following the 2018 temperature spike, the NAPL site showed a steadily, significantly increasing sample average carapace length.\n\n\\(R^2\\):\nBecause we have multiple terms on the right side of the equation (temp + site), the adjusted \\(R^2\\) value is more relevant and better representative of our model. This adjusted \\(R^2\\) value tells us that around 38% of the variation in our data can be explained by our model, or that 38% of the change in average carapace length in August can be explained by the average reef bottom temperature in August and which study site the lobster is located in.\nInterpreting Uncertainty, Significance:\nThere is notably more uncertainty in the September-inclusive regression than in the regression run on data collected exclusively in August, with wider confidence intervals and fewer estimates holding under an \\(\\alpha\\) of 0.05 (bolded p-values).\nThe intercept estimate is a significant yet nonsensical estimate, with a significance level of 0 being met in both regressions.\nIn both regression summaries, the Naples reef site has it’s own relationship between average water temperature and average carapace length going in a different direction than all of the other sites – yet it’s the most statistically significant estimate of all of our sites.\nThe Arroyo Quemado Reef site has a statistically significant estimate under the August regression, but not under the August & September regression. This makes sense intuitively, as the variation in carapace size and temperature in September does not follow the same pattern as the rest of our data (temperatures in September are cooler than August, and the carapace sizes of our lobsters will continue to grow). From here on out, we will only be using August data in our regression models.\n\n\n\n\nAs temperatures vary in each site, we can add an interaction term to our model to see if this may be a factor that impacts or is contributing to our uncertainty. This new equation is:\n\\[\\mu CL_i =\\beta_{0} + \\beta_{1} \\mu Temp_i +\\beta_{2} \\text Site + \\beta_{3} (\\mu Temp_{i} * \\text Site) +  \\varepsilon_i\\] Where:\n\n\\(\\mu CL\\) is the average carapace length, in millimeters, in August\n\\(\\beta_{0}\\) is the intercept, or expected average carapace length, in millimeters, when the average August temperature is 0º C and site is held constant (for our reference site, AQUE)\n\\(\\beta_{1}\\) is the slope or expected change in average carapace length given a 1 unit change in average temperature (1º C) in August, when site is held constant (for our reference site, AQUE)\n\\(\\beta_{2}\\) is the difference in slope or expected change in average carapace length given a 1 unit change in average temperature (1º C) in August between our reference group (site AQUE) and each other site.\n\\(\\beta_{3}\\) is the difference in slopes between our different sites, where slope is the average change in carapace length in August given a 1º C change in average reef bottom temperature in August for each site\n\\(\\varepsilon\\) is our error term, containing everything else that impacts average expected carapace length as measured in August.\n\nNow that we know what our equation means, let’s run the multiple regression with this added interaction term on our August-only dataset:\n\n\nCode\n# run multiple linear regression on temp and size, taking temperature differences at each site into account\n\n# for august-only data\nmulti_reg_int_aug &lt;- lm(formula = avg_size ~ avg_temp + site + avg_temp:site,\n                        data = lobster_temps_august)\n\n# summary(multi_reg_int_aug)\n\n# use sjPlot to show a comparison of the outputs from running these models\n\n\nsjPlot::tab_model(multi_reg_int_aug,\n                  title = \"Multiple regression with interaction\",\n                  dv.labels = c(\"\"),\n                #  dv.labels = c(\"Average lobster carapace length (mm)\"),\n                  digits = 3)\n\n\n\nMultiple regression with interaction\n\n\nPredictors\nEstimates\nCI\np\n\n\n(Intercept)\n114.066\n73.977 – 154.154\n&lt;0.001\n\n\navg temp\n-2.315\n-4.615 – -0.015\n0.049\n\n\nsite [CARP]\n-35.333\n-88.638 – 17.972\n0.188\n\n\nsite [IVEE]\n-31.745\n-86.520 – 23.030\n0.249\n\n\nsite [MOHK]\n-23.659\n-78.688 – 31.370\n0.391\n\n\nsite [NAPL]\n-2.429\n-55.379 – 50.521\n0.927\n\n\navg temp × site [CARP]\n2.064\n-1.007 – 5.136\n0.182\n\n\navg temp × site [IVEE]\n1.875\n-1.369 – 5.118\n0.250\n\n\navg temp × site [MOHK]\n1.241\n-1.940 – 4.421\n0.436\n\n\navg temp × site [NAPL]\n0.526\n-2.543 – 3.595\n0.731\n\n\nObservations\n53\n\n\nR2 / R2 adjusted\n0.469 / 0.358\n\n\n\n\n\n\n\n\n\nSeveral new features stand out in this regression output. The first is the change in extremity of our estimated site coefficients. The first avg temp coefficient can be interpreted as the expected change in average carapace length (mm) in August given a 1 unit change in our temperature variable (1º C increase in average temperature in August) holding site constant, at our reference group site AQUE.\nThe small p-value suggests that the probability of getting results at least as extreme as this if the null hypothesis were true is very low. That being said, only our nonsensical intercept and first coefficient, avg_temp, are statistically significant under an \\(\\alpha\\) of 0.05. In this interaction model, we got an adjusted \\(R^2\\) value of around 0.36, which would suggest that roughly 36% of the variation in our data can be explained by our model, the low significance levels coupled with the higher adjusted \\(R^2\\) value in our non-interaction multiple regression model on August-only data of roughly 0.38 or 38% suggests that incorporating this interaction term does not yield a better model for our sample data.\nThe coefficients labeled avg temp x site [XXXX] are the site specific differences in slopes for average reef bottom temperature from the slope of site AQUE described above (avg temp). None of these coefficient estimates are significant, which indicates that the effect of average reef bottom temperature is not meaningfully different across the study sites.\nBased on the nuances in the coefficients and uncertainty in the two previous models, I decided to model each site individually in a simple linear regression model.\n\n\n\n\nWe can also run our linear regression model on each site, which would shift our first multiple regression equation to a simple linear model of:\n\\[\\mu CL_i =\\beta_{0}+\\beta_{1} \\mu Temp_i +\\varepsilon_i\\] where:\n\n\\(\\mu CL\\) is the average carapace length, in millimeters, in August at the site that we’re running this regression for\n\\(\\beta_{0}\\) is the intercept, or expected average carapace length, in millimeters, when the average August temperature is 0º Celsius\n\\(\\beta_{1}\\) is the slope or expected change in average carapace length in August given a 1 unit (1º C) change in average temperature in August\n\nThe main change here is that our \\(\\beta_{0}\\) and \\(\\beta_{1}\\) terms are now about the particular site we’re running our regression model on, rather than having a clause of “holding site constant” or based on a reference group (site AQUE, previously).\n\n\nCode\n# to quickly make individual subsets for each site, we can make a subset function:\n\nsite_selection &lt;- function(siteID, data_set){\n  data_set %&gt;% filter(site %in% c(siteID))\n}\n\n# then apply this function for each site:\naque_subset &lt;- site_selection(\"AQUE\", lobster_temps_august)\ncarp_subset &lt;- site_selection(\"CARP\", lobster_temps_august)\nivee_subset &lt;- site_selection(\"IVEE\", lobster_temps_august)\nmohk_subset &lt;- site_selection(\"MOHK\", lobster_temps_august)\nnapl_subset &lt;- site_selection(\"NAPL\", lobster_temps_august)\n\n\naque_simple_reg &lt;- lm(formula = avg_size ~ avg_temp, data = aque_subset)\ncarp_simple_reg &lt;- lm(formula = avg_size ~ avg_temp, data = carp_subset)\nivee_simple_reg &lt;- lm(formula = avg_size ~ avg_temp, data = ivee_subset)\nmohk_simple_reg &lt;- lm(formula = avg_size ~ avg_temp, data = mohk_subset)\nnapl_simple_reg &lt;- lm(formula = avg_size ~ avg_temp, data = napl_subset)\n\n\n\n\nCode\n# show the 3 non-MPA sites' regression outputs\nsjPlot::tab_model(aque_simple_reg, carp_simple_reg, mohk_simple_reg, \n                  title = \"Simple linear regression: SBC LTER Reef study sites (not in MPAs)\",\n                  dv.labels = c(\"Arroyo Quemado\", \"Carpinteria\", \"Mohawk\"),\n                  digits = 3)\n\n\n\nSimple linear regression: SBC LTER Reef study sites (not in MPAs)\n\n\n \nArroyo Quemado\nCarpinteria\nMohawk\n\n\nPredictors\nEstimates\nCI\np\nEstimates\nCI\np\nEstimates\nCI\np\n\n\n(Intercept)\n114.066\n77.205 – 150.926\n&lt;0.001\n78.733\n49.689 – 107.776\n&lt;0.001\n90.407\n51.685 – 129.129\n0.001\n\n\navg temp\n-2.315\n-4.430 – -0.200\n0.036\n-0.250\n-1.933 – 1.432\n0.744\n-1.074\n-3.330 – 1.182\n0.304\n\n\nObservations\n10\n11\n10\n\n\nR2 / R2 adjusted\n0.443 / 0.374\n0.012 / -0.097\n0.131 / 0.022\n\n\n\n\n\n\n\nCode\n# show the 2 MPA sites' regression outputs\nsjPlot::tab_model(ivee_simple_reg, napl_simple_reg, \n                  title = \"Simple linear regression: SBC LTER Reef study sites (within MPAs)\",\n                  dv.labels = c(\"Isla Vista Reef\", \"Naples Reef\"),\n                  digits = 3)\n\n\n\nSimple linear regression: SBC LTER Reef study sites (within MPAs)\n\n\n \nIsla Vista Reef\nNaples Reef\n\n\nPredictors\nEstimates\nCI\np\nEstimates\nCI\np\n\n\n(Intercept)\n82.321\n37.505 – 127.136\n0.002\n111.637\n59.623 – 163.651\n0.001\n\n\navg temp\n-0.440\n-3.187 – 2.306\n0.725\n-1.789\n-4.843 – 1.265\n0.218\n\n\nObservations\n11\n11\n\n\nR2 / R2 adjusted\n0.014 / -0.095\n0.163 / 0.070\n\n\n\n\n\n\n\n\n\nI was genuinely surprised by these outputs. I expected the individual relationships between average lobster size (carapace length) and average reef bottom temperature to be stronger and more statistically significant when broken down on a simple site-by-site level.\nI particularly expected to see a new, negative estimate for the Naples reef site, which had previously had an oddly highly positive estimate that was surprisingly statistically significant under an \\(\\alpha\\) level of 0.0001. When isolating that site’s data, we now have a negative estimate of roughly -1.8, but a p-value of 0.2, which is much larger than the previous p-value. This means that the probability of getting results at least as extreme as ours if the null hypothesis were true is around 20%.\nBecause these are simple linear models, we can use the \\(R^2\\) values in our interpretation of the results, rather than the adjusted \\(R^2\\) values.\n\nThe highest \\(R^2\\) value was at the Arroyo Quemado reef site, with a value of 0.44, meaning that around 44% of the variation in our data at the AQUE site can be explained by our model, or 44% of the variation in average lobster carapace size in August can be explained by the average reef bottom temperature in August. With both the intercept (nonsensical) and average temperature coefficient being statistically significant results under an \\(\\alpha\\) level of 0.05, this is an exciting result.\n\nThat’s pretty much where the statistically significant “good news” ends, though classifying this as “good” or “bad” is wrong and limits our ability to learn from these results :)\n\nThe next-highest \\(R^2\\) value is from our Naples Reef regression, and it tells us that roughly 16% of the variation in our Naples Reef data can be explained by our model. I explained the significance of the estimates earlier, and they ultimately lead me to think that there is a lot more going on at the Naples site that is impacting average lobster size than just average reef bottom temperature.\nThe third-highest \\(R^2\\) value is from the Mohawk Reef regression output and suggests that around 13% of the variation in the Mohawk Reef data can be explained by our model (change in average reef bottom temperatures in August). The nonsensical intercept of 90 has a high significance level, and the estimate for the average temperature coefficient is roughly -1.1, which means that for a 1 unit change in average reef bottom temperature in August, average lobster carapace size in August at the Mohawk Reef site is expected to decrease by around 1.1 mm. This estimate has a p-value of 0.3, which is not statistically significant under our \\(\\alpha\\) level of 0.05.\n\nThe other two sites – Carpinteria Reef and Isla Vista Reef – have high p-values for their coefficient estimates and very low \\(R^2\\) values, with just under 1.5% of the variation in the data able to be explained by the models.\nSome key takeaways from this are that the Naples site results particularly changed after being separated from the rest of the data – the sign and degree of the temperature coefficient changed, though its significance level decreased and had a relatively low \\(R^2\\) value.\nAnother key takeaway is that our model works fairly well for the data at the Arroyo Quemado site: we obtained statistically significant estimates and an \\(R^2\\) value of 0.44 with just one term on the right side of the equation. This means that roughly 44% of the variation in our data at this site can be explained by average reef bottom temperature in August.\nA significant limitation to this approach is that each model is run on a very limited dataset of only 10 points – yearly averages from 2012-2022 leaves us with 11 points per subset for all sites other than AQUE, which has 10 due to the lack of August lobster size data in 2014, and MOHK, which has 10 due to the lack of August temperature data in 2017."
  },
  {
    "objectID": "blog/ca-spiny-lobsters/index.html#conclusion",
    "href": "blog/ca-spiny-lobsters/index.html#conclusion",
    "title": "California Spiny Lobsters & Reef Bottom Temperatures",
    "section": "",
    "text": "The limitations of the lobster data and the low quantity of statistically significant results lead me to question the strength of the results in this study for the most part. One notable exception has been with the Arroyo Quemado Reef data, where – with a simple linear model – the regression results suggest that roughly 44% of the variation in the average lobster carapace size data collected in August at that site can be explained by average reef bottom temperatures in August.\nEarly on in my data analysis process, I considered dropping the AQUE site altogether due to its missing August data in 2014 and unique presence of September data in that year. After continuing on with my analysis, eventually making subsets with and without that September data, running various levels of regression, and plotting averages left and right, I came to appreciate the challenge that this data posed. If I had dropped it, I would have completely missed the most statistically significant result in the whole dataset.\nIt was interesting to see the clear spikes in average reef bottom temperatures in August across all sites in 2015 and 2018, as it shows that our reef bottom temperature data reflects the natural phenomena discussed: 2015/2016 El Niño and the extreme warming of coastal temperatures in Southern California in 2018. All sites saw a decrease in average carapace length in August of 2015 from previous years, which may indicate that there were fewer individuals with larger carapace lengths at all sites when these warming events occurred.\nOverall, the only site that I can make any sort of statistically grounded claim about is the Arroyo Quemado Reef, and even then, with the limited number of data points yielded when taking averages of carapace length and temperature in the month of August over a 10 year period, the final conclusion I have come to is that this subject demands further study and investigation. Science isn’t perfect, and we don’t always get statistically significant results. There is validity and truth in this fact, and protecting primary studies from the pressure to yield statistically significant results is essential, as results that are not statistically significant can still teach us about the population(s) we are trying to study."
  },
  {
    "objectID": "blog/ca-spiny-lobsters/index.html#additional-considerations-possible-next-steps",
    "href": "blog/ca-spiny-lobsters/index.html#additional-considerations-possible-next-steps",
    "title": "California Spiny Lobsters & Reef Bottom Temperatures",
    "section": "",
    "text": "Given more time and resources, there are a few elements of this analysis that I would change and several “next steps” that would be interesting to pursue.\nAs I have mentioned throughout this notebook, the limitations of the data at various steps proved challenging. I’ve already discussed the challenges of the September 2014 data, but I was also frustrated by the lack of temperature data for the Mohawk site in August of 2017. While I considered using functions like na.approx from the zoo package to make up for this, I ultimately ran out of time to fully achieve the outputs that would make including these steps worthwhile.\nI also attempted to investigate the possible impact that MPA status (whether or not a site falls within a Marine Protected Area) had on the relationship between average August temperature and size, I also failed to get this code to yield any satisfactory outputs."
  },
  {
    "objectID": "blog/ca-spiny-lobsters/index.html#sources",
    "href": "blog/ca-spiny-lobsters/index.html#sources",
    "title": "California Spiny Lobsters & Reef Bottom Temperatures",
    "section": "",
    "text": "Bris, A. L., Pershing, A. J., Gaudette, J., Pugh, T. L., & Reardon, K. M. (2017). Multi-scale quantification of the effects of temperature on size at maturity in the American lobster (Homarus americanus). Fisheries Research, 186, 397-406. doi:10.1016/j.fishres.2016.09.008\nBarnard, P. L., Hoover, D., Hubbard, D. M., Snyder, A., Ludka, B. C., Allan, J., Kaminsky, G. M., Ruggiero, P., Gallien, T. W., Gabel, L., McCandless, D., Weiner, H. M., Cohn, N., Anderson, D. L., & Serafin, K. A. (2017). Extreme oceanographic forcing and coastal response due to the 2015–2016 El Niño. Nature Communications, 8(1), Article 1. https://doi.org/10.1038/ncomms14365\nCalifornia Coastal Commission. (2019). Extreme Weather: El Niño. (n.d.). Retrieved December 11, 2023, from https://www.coastal.ca.gov/climate/extreme-weather/el-nino/\nCA Marine Species Portal. (n.d.). Retrieved December 11, 2023, from https://marinespecies.wildlife.ca.gov/california-spiny-lobster/the-species/\nCalifornia Spiny Lobster | California Sea Grant. (n.d.). Retrieved December 12, 2023, from https://caseagrant.ucsd.edu/seafood-profiles/california-spiny-lobster\nCalifornia spiny lobster takes double hit from China market. (n.d.). Retrieved December 14, 2023, from https://www.nationalfisherman.com/west-coast-pacific/california-spiny-lobster-takes-double-hit-from-china-market\nCarter, M. L., Flick, R. E., Terrill, E., Beckhaus, E. C., Martin, K., Fey, C. L., Walker, P. W., Largier, J. L., & McGowan, J. A. (2022). Shore Stations Program Data Archive: Current and historical coastal ocean temperature and salinity measurements from California stations. UC San Diego Library Digital Collections. https://doi.org/10.6075/J0S75GHD (Accessed 2023-12-12)\nCastelao, R. M., & Wang, Y. (2014). Wind-driven variability in sea surface temperature front distribution in the California Current System. Journal of Geophysical Research: Oceans, 119(3), 1861–1875. https://doi.org/10.1002/2013JC009531\nDay, P. B., Stuart-Smith, R. D., Edgar, G. J., & Bates, A. E. (2018). Species’ thermal ranges predict changes in reef fish community structure during 8 years of extreme temperature variation. Diversity and Distributions, 24(8), 1036–1046. https://doi.org/10.1111/ddi.12753\nEllertson, A. A., Waller, J. D., Pugh, T. L., & Bethoney, N. D. (2022). Differences in the size at maturity of female American lobsters (Homarus americanus) from offshore Southern New England and eastern Georges Bank, USA. Fisheries Research, 250, 106276. https://doi.org/10.1016/j.fishres.2022.106276\nGreenhalgh, E. (2016, October 6). Climate & Lobsters. NOAA Climate.gov. http://www.climate.gov/news-features/climate-and/climate-lobsters\nGreenhalgh, E. (2016, December 22). Warming ocean temperatures push lobster populations north. NOAA Climate.gov. http://www.climate.gov/news-features/featured-images/warming-ocean-temperatures-push-lobster-populations-north\nGulf of Maine Warming Update: Summer 2021. (2021, October 26). Gulf Of Maine Research Institute. https://www.gmri.org/stories/gulf-of-maine-warming-update-summer-2021/\nIshaq, S. L., Turner, S. M., Lee, G., Tudor, M. S., MacRae, J. D., Hamlin, H., & Bouchard, D. (2023). Water temperature and disease alters bacterial diversity and cultivability from American lobster (Homarus americanus) shells. iScience, 26(5), 106606. https://doi.org/10.1016/j.isci.2023.106606\nKoenig, E. & American Geophysical Union. (2018, January 23). American lobsters feeling the heat in the northwest Atlantic. Phys.Org. https://phys.org/news/2018-01-american-lobsters-northwest-atlantic.html\nLowder, K. B., deVries, M. S., Hattingh, R., Day, J. M. D., Andersson, A. J., Zerofski, P. J., & Taylor, J. R. A. (2022). Exoskeletal predator defenses of juvenile California spiny lobsters (Panulirus interruptus) are affected by fluctuating ocean acidification-like conditions. Frontiers in Marine Science, 9. https://www.frontiersin.org/articles/10.3389/fmars.2022.909017\nMendelssohn, R., Schwing, F. B., & Bograd, S. J. (2004). Nonstationary seasonality of upper ocean temperature in the California Current. Journal of Geophysical Research: Oceans, 109(C10). https://doi.org/10.1029/2004JC002330\nMonroe, R. (2018, August 2). Highest-Ever Seawater Temperature Recorded at Scripps Pier | Scripps Institution of Oceanography. https://scripps.ucsd.edu/news/highest-ever-seawater-temperature-recorded-scripps-pier\nNeath, A. (2023, November 21). Meet Bowie: The multi-colour, multi-gender lobster. The Independent. https://www.independent.co.uk/news/world/americas/lobster-half-blue-maine-tiktok-bowie-b2450916.html\nOppenheim, N. G., Wahle, R. A., Brady, D. C., Goode, A. G., & Pershing, A. J. (2019). The cresting wave: Larval settlement and ocean temperatures predict change in the American lobster harvest. Ecological Applications, 29(8), e02006. https://doi.org/10.1002/eap.2006\nPaek, H., Yu, J.-Y., & Qian, C. (2017). Why were the 2015/2016 and 1997/1998 extreme El Niños different? Geophysical Research Letters, 44(4), 1848–1856. https://doi.org/10.1002/2016GL071515\nPershing, A. J., Alexander, M. A., Hernandez, C. M., Kerr, L. A., Le Bris, A., Mills, K. E., Nye, J. A., Record, N. R., Scannell, H. A., Scott, J. D., Sherwood, G. D., & Thomas, A. C. (2015). Slow adaptation in the face of rapid warming leads to collapse of the Gulf of Maine cod fishery. Science, 350(6262), 809–812. https://doi.org/10.1126/science.aac9819\nQuinn, B. K., & Rochette, R. (2015). Potential effect of variation in water temperature on development time of American lobster larvae. ICES Journal of Marine Science, 72(suppl_1), i79–i90. https://doi.org/10.1093/icesjms/fsv010\nRecord Warm Waters off Southern California. (2018, August 8). [Text Article]. NASA Earth Observatory. https://earthobservatory.nasa.gov/images/92563/record-warm-waters-off-southern-california\nReed, D. & Miller, R. (2023). SBC LTER: Reef: Abundance, size and fishing effort for California Spiny Lobster (Panulirus interruptus), ongoing since 2012 ver 9. [Data File]. Environmental Data Initiative. https://doi.org/10.6073/pasta/3595322687af94cd532620ad9db94c77 (Accessed 2023-11-22).\nReed, D. & Miller, R. (2023). SBC LTER: Reef: Bottom Temperature: Continuous water temperature, ongoing since 2000 ver 29. [Data File]. Environmental Data Initiative. https://doi.org/10.6073/pasta/3071d4179516b5ae56018bfa03fea9dd (Accessed 2023-12-03).\nRheuban, J. E., Kavanaugh, M. T., & Doney, S. C. (2017). Implications of Future Northwest Atlantic Bottom Temperatures on the American Lobster (Homarus americanus) Fishery. Journal of Geophysical Research: Oceans, 122(12), 9387–9398. https://doi.org/10.1002/2017JC012949\nSea bottom temperature (SBT) Modeling. (n.d.). Florida Fish And Wildlife Conservation Commission. Retrieved December 11, 2023, from https://myfwc.com/research/gis/fisheries/sbt/\nStancioff, E. (2016, March 28). A Maine lobster fishing community confronts their changing climate. NOAA Climate.gov. http://www.climate.gov/news-features/climate-case-studies/maine-lobster-fishing-community-confronts-their-changing-climate\nTanaka, K. (n.d.). Research Highlights: New England Lobster in a Changing Climate: Development of a Forecasting Tool for Habitat Suitability - Maine Climate Office News - University of Maine Cooperative Extension. Maine Climate Office News. The University of Maine. Retrieved December 13, 2023, from https://extension.umaine.edu/maineclimatenews/archives/fall-2014/new-england-lobster-in-changing-climate/\nZacharias, M., & Kushner, D. (2006). Sea temperature and wave height as predictors of population size structure and density of Megastraea (Lithopoma) Undosa: Implications for fishery management. Bulletin of Marine Science, 79, 71–82."
  },
  {
    "objectID": "blog/ca-spiny-lobsters/index.html#footnotes",
    "href": "blog/ca-spiny-lobsters/index.html#footnotes",
    "title": "California Spiny Lobsters & Reef Bottom Temperatures",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nStancioff, E. (2016, March 28). A Maine lobster fishing community confronts their changing climate. NOAA Climate.gov. http://www.climate.gov/news-features/climate-case-studies/maine-lobster-fishing-community-confronts-their-changing-climate↩︎\nGreenhalgh, E. (2016, October 6). Climate & Lobsters. NOAA Climate.gov. http://www.climate.gov/news-features/climate-and/climate-lobsters↩︎\nRheuban, J. E., Kavanaugh, M. T., & Doney, S. C. (2017). Implications of Future Northwest Atlantic Bottom Temperatures on the American Lobster (Homarus americanus) Fishery. Journal of Geophysical Research: Oceans, 122(12), 9387–9398. https://doi.org/10.1002/2017JC012949↩︎\nPershing, A. J., Alexander, M. A., Hernandez, C. M., Kerr, L. A., Le Bris, A., Mills, K. E., Nye, J. A., Record, N. R., Scannell, H. A., Scott, J. D., Sherwood, G. D., & Thomas, A. C. (2015). Slow adaptation in the face of rapid warming leads to collapse of the Gulf of Maine cod fishery. Science, 350(6262), 809–812. https://doi.org/10.1126/science.aac9819↩︎\nQuinn, B. K., & Rochette, R. (2015). Potential effect of variation in water temperature on development time of American lobster larvae. ICES Journal of Marine Science, 72(suppl_1), i79–i90. https://doi.org/10.1093/icesjms/fsv010↩︎\nEllertson, A. A., Waller, J. D., Pugh, T. L., & Bethoney, N. D. (2022). Differences in the size at maturity of female American lobsters (Homarus americanus) from offshore Southern New England and eastern Georges Bank, USA. Fisheries Research, 250, 106276. https://doi.org/10.1016/j.fishres.2022.106276↩︎\nIshaq, S. L., Turner, S. M., Lee, G., Tudor, M. S., MacRae, J. D., Hamlin, H., & Bouchard, D. (2023). Water temperature and disease alters bacterial diversity and cultivability from American lobster (Homarus americanus) shells. iScience, 26(5), 106606. https://doi.org/10.1016/j.isci.2023.106606↩︎\nRheuban, J. E., Kavanaugh, M. T., & Doney, S. C. (2017). Implications of Future Northwest Atlantic Bottom Temperatures on the American Lobster (Homarus americanus) Fishery. Journal of Geophysical Research: Oceans, 122(12), 9387–9398. https://doi.org/10.1002/2017JC012949↩︎\nGulf of Maine Warming Update: Summer 2021. (2021, October 26). Gulf Of Maine Research Institute. https://www.gmri.org/stories/gulf-of-maine-warming-update-summer-2021/↩︎\nCalifornia Department of Fish and Wildlife. (2019). California Spiny Lobster, Panulirus interruptus, Enhanced Status Report.↩︎\nCalifornia Department of Fish and Wildlife. (2019). California Spiny Lobster, Panulirus interruptus, Enhanced Status Report.↩︎\nCalifornia Department of Fish and Wildlife. (2019). California Spiny Lobster, Panulirus interruptus, Enhanced Status Report.↩︎\nEngle J. M. (1979). Ecology and growth of juvenile California spiny lobster, Panulirus interruptus (Randall) (Los Angeles, California, United States: University of Southern California).↩︎\nCalifornia Department of Fish and Wildlife. (2019). California Spiny Lobster, Panulirus interruptus, Enhanced Status Report.↩︎\nBarnard, P., Hoover, D., Hubbard, D. et al. (2017). Extreme oceanographic forcing and coastal response due to the 2015–2016 El Niño. Nat Commun 8, 14365. https://doi.org/10.1038/ncomms14365↩︎\nMendelssohn, R., Schwing, F. B., & Bograd, S. J. (2004). Nonstationary seasonality of upper ocean temperature in the California Current. Journal of Geophysical Research: Oceans, 109(C10). https://doi.org/10.1029/2004JC002330↩︎\nCastelao, R. M., & Wang, Y. (2014). Wind-driven variability in sea surface temperature front distribution in the California Current System. Journal of Geophysical Research: Oceans, 119(3), 1861–1875. https://doi.org/10.1002/2013JC009531↩︎\nCalifornia Department of Fish and Wildlife. (2019). California Spiny Lobster, Panulirus interruptus, Enhanced Status Report.↩︎\nEngle J. M. (1979). Ecology and growth of juvenile California spiny lobster, Panulirus interruptus (Randall) (Los Angeles, California, United States: University of Southern California).↩︎\nCalifornia Department of Fish and Wildlife. (2019). California Spiny Lobster, Panulirus interruptus, Enhanced Status Report.↩︎\nBarnard, P. L., Hoover, D., Hubbard, D. M., Snyder, A., Ludka, B. C., Allan, J., Kaminsky, G. M., Ruggiero, P., Gallien, T. W., Gabel, L., McCandless, D., Weiner, H. M., Cohn, N., Anderson, D. L., & Serafin, K. A. (2017). Extreme oceanographic forcing and coastal response due to the 2015–2016 El Niño. Nature Communications, 8(1), Article 1. https://doi.org/10.1038/ncomms14365↩︎\nSea bottom temperature (SBT) Modeling. (n.d.). Florida Fish And Wildlife Conservation Commission. Retrieved December 11, 2023, from https://myfwc.com/research/gis/fisheries/sbt/↩︎\nRecord Warm Waters off Southern California. (2018, August 8). [Text Article]. NASA Earth Observatory. https://earthobservatory.nasa.gov/images/92563/record-warm-waters-off-southern-california↩︎\nMonroe, R. (2018, August 2). Highest-Ever Seawater Temperature Recorded at Scripps Pier | Scripps Institution of Oceanography. https://scripps.ucsd.edu/news/highest-ever-seawater-temperature-recorded-scripps-pier↩︎"
  },
  {
    "objectID": "blog/texas-power-crisis/index.html",
    "href": "blog/texas-power-crisis/index.html",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "",
    "text": "Image source: Wikipedia"
  },
  {
    "objectID": "blog/texas-power-crisis/index.html#overview-purpose",
    "href": "blog/texas-power-crisis/index.html#overview-purpose",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "Overview & Purpose",
    "text": "Overview & Purpose\n“In February 2021, the state of Texas suffered a major power crisis, which came about as a result of three severe winter storms sweeping across the United States on February 10–11, 13–17, and 15–20.”1 For more background, check out these engineering and political perspectives. These videos succinctly convey the severity and immediate consequences of the blackouts that occurred in Texas in the winter storms of early 2021, and convey that the lasting impacts will (and should) be studied for years to come. A quick note from the practical engineering video: providers spent more money on wholesale electricity in a week than would normally be spent in 4 years (on average), and that doesn’t include the crazy natural gas prices that were soaring during this time.\nYou can also read the University of Texas at Austin, Energy Institute’s report on the timeline and events of the February 2021 blackouts for a more thorough understanding of the event. The Energy Institute’s website states: “In February 2021, an extreme winter storm event caused a massive electricity generation failure in the state of Texas, which resulted in a loss of power for more than 4.5 million homes. This failure has resulted in at least 57 deaths across 25 Texas counties and over $195 billion in property damage, bringing attention to the energy system crisis and its potential causes,” 2\nThis blog post is a summary of my geospatial data and remote sensing project on the 2021 Texas Power Crisis, specifically looking at the blackouts in the Houston metropolitan area on February 16th, 2021 (during the second of three intense winter storms, also referred to as the week of the Winter Storm Uri).\nIn the primary analysis notebook, which you can find on my GitHub repository I use VIIRS night lights data, OpenStreetMap data, and US Census Bureau data to:\n\nestimate the number of homes in Houston that lost power as a result of the first two storms\ninvestigate if socioeconomic factors are predictors of communities recovery from a power outage"
  },
  {
    "objectID": "blog/texas-power-crisis/index.html#data",
    "href": "blog/texas-power-crisis/index.html#data",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "Data",
    "text": "Data\nThe data used in this project are too large to export to GitHub, so I’ve provided links to access/download the data for reproducibility below. The night lights data has been preprocessed for academic use, and the file (92.2 MB) is unfortunately too large to upload on GitHub.\n\nNight lights data\nMy analysis will be based on remotely-sensed night lights data, acquired from the Visible Infrared Imaging Radiometer Suite (VIIRS) onboard the Suomi satellite. VIIRS data is distributed through NASA’s Level-1 and Atmospheric Archive & Distribution System Distributed Active Archive Center (LAADS DAAC).\nIn particular, I will use the VNP46A1 to detect differences in night lights before and after the storm to identify areas that lost electric power.\nI am using two primary nights’ data: February 7th and February 16th, as these provide the clearest view (least cloud cover) for the analysis. Many NASA Earth data products are distributed in 10x10 degree tiles in sinusoidal equal-area projection. Tiles are identified by their horizontal and vertical position in the grid. Houston lies on the border of tiles h08v05 and h08v06. For each night of data, two tiles per date (the 7th and 16th of February, 2021) were downloaded and prepared by Ruth Oliver for the Master of Environmental Data Science’s Geospatial Analysis course in the Fall quarter, 2023. Thus, there are a total of 4 separate .tif files that I read in for my analysis.\nFor improved computational efficiency and easier interoperability with sf, I use the stars package for raster handling. I read in the data using stars::read_stars().\nCitation:\nNASA Earth Data, Level-1 and Atmospheric Archive & Distribution System Distributed Active Archive Center (LAADS DAAC) [Data file] Available from: https://ladsweb.modaps.eosdis.nasa.gov/ Access date: October 26, 2023.\n\n\nOpenStreetMap data\nTo determine the number of homes that lost power, I link (spatially join) blackout areas with OpenStreetMap data on roads and buildings.\n\nRoads\nHighways can account for a large portion of the night lights observable from space (see Google’s Earth at Night).\nI use the roads data from OpenStreetMap to cut out the highways and associated lights (traffic, street lights) from my analysis to minimize falsely identifying these areas with reduced traffic as areas without power. Geofabrik’s download sites were used to retrieve a shapefile of all highways in Texas and prepared a Geopackage (.gpkg file) containing just the subset of roads that intersect the Houston metropolitan area. This data was also prepared by Ruth Oliver.\nThe roads Geopackage includes data on roads other than highways. I define a SQL query to select a subset of the highways from the Houston metropolitan area, and use that SQL query and subset selection to load just the highways data from the prepared Geopackage.\n\n\nHouses\nOpenStreetMap also has building data, which I use in my analysis to find the number of buildings impacted by the blackouts in the Houston Metropolitan area.\nI define another SQL query when reading in the buildings data to select only residential buildings. I will use this data to find the number of homes impacted by blackouts.\nCitation:\nGeofabrik Download Server (2018), OpenStreetMap Data Extracts [Data file] Available from: https://download.geofabrik.de/ Access date: October 26, 2023.\n\n\nUS Census Bureau data\nTo investigate potential relationships between socioeconomic status and blackout status during the 2021 winter storm, I use data from the U.S. Census Bureau’s American Community Survey for census tracts in 2019. This data is within the folder ACS_2019_5YR_TRACT_48.gdb and is an ArcGIS “file geodatabase”, a multi-file proprietary format that’s roughly analogous to a GeoPackage file. To explore the contents/layers of the geodatabase, you can access the ACS metadata\nIn my analysis, I combine the geometry with the attributes to get a feature layer that sf can use.\nI use st_read() to load the GeoDataBase (GDB) layers, first selecting the geometries layer, then (separately) selecting the layer that income data is stored in. I also select the median income field from this dataset, as I am ultimately trying to investigate into the possible relationship between socioeconomic status and blackout status.\nCitation:\nUnited States Census Bureau (2019), American Community Survey [Data file] Available from: https://www.census.gov/programs-surveys/acs Access date: October 26, 2023."
  },
  {
    "objectID": "blog/texas-power-crisis/index.html#night-lights",
    "href": "blog/texas-power-crisis/index.html#night-lights",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "Night Lights",
    "text": "Night Lights\nFinding & Defining Blackout Areas\n\nData Exploration & Preparation\nBefore we begin, I’d like to note that because this analysis is about Texas, I reprojected the buildings, roads, and census data to EPSG:3083 (NAD83 / Texas Centric Albers Equal Area). The VIIRS night lights data is, at this point in the process, still in EPSG:4326. This is due to the CRS of my Houston metropolitan area bounding box coordinates being in the standard CRS EPSG:4326. After I crop my raster data to the area of interest using this bounding box, I will reproject both to EPSG:3083.\n\nPreliminary Visualization\nThe night lights data is still in 4 separate pieces. Here, I aggregate the raster data by combining the tiles into a single stars object for each date (2021-02-07 and 2021-02-16) and then plot the resulting composites.\nFebruary 7th is the reference night (no blackouts) and February 16th is the night from which we’ll be obtaining our “blackout” data.\n\n\nCode\n# === Building mosaics (composites) of spatially disjoint stars objects === #\n\n# combining 1 & 2 for night 1 (Feb. 7th, no blackouts)\nnight_feb_7 &lt;- st_mosaic(night_lights1_star, night_lights2_star)\n\n# and 3 & 4 for night 2 (Feb. 16th, blackouts had occurred)\nnight_feb_16 &lt;- st_mosaic(night_lights3_star, night_lights4_star)\n\n# ==== viewing the outcomes of aggregating our data into the 2 nights ==== #\n\n# night 1 (control/no blackouts)\nplot(night_feb_7)\n\n\n\n\n\nCode\n# night 2 (blackouts)\nplot(night_feb_16)\n\n\n\n\n\nThere are a few things to note here:\n\nThe second night, February 16th, looks brighter overall. This is likely due to cloud cover and atmospheric activity from the storm acting as “noise”, which makes it difficult to have a perfectly clear image \nThat being said, this is the clearest night out of the storm date range, so we’re going to just have to work with what we’ve got, taking note of this “noise” in our analysis \nThere are methods to account for this, but that is outside of the scope of this project.\n\nAs mentioned earlier, the night lights data is currently in the CRS: EPSG:4326. We will eventually reproject it to EPSG:3083 (NAD83 / Texas Centric Albers Equal Area), but we need to perform a few steps first."
  },
  {
    "objectID": "blog/texas-power-crisis/index.html#blackout-mask",
    "href": "blog/texas-power-crisis/index.html#blackout-mask",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "Blackout Mask",
    "text": "Blackout Mask\nTo find the areas in the Houston metropolitan area that experienced a blackout, I first find the difference in light intensity between the two nights of data, defining any areas that experienced a drop of more than 200 \\(nW * cm^{-2} * sr^{-1}\\) (light intensity unit) as experiencing a blackout. I then vectorize the mask and fix any invalid geometries.\n\n\nCode\n# finding the difference or change in light intensity between the two nights\ndifference &lt;- night_feb_7 - night_feb_16\n\n# ==== create mask ==== #\n# using \"cut\" to convert numeric (drop of more than 200 nW cm^-2^sr^-1 in the second night) to Factor (blackout, NA), using the cutoff range of 200 to infinity\nblackout_diff &lt;- cut(x = difference,\n                         breaks = c(200, Inf), # everything with a difference of more than 200\n                         labels = \"blackout\") # label as experiencing a blackout\n\n# when using \"cut\", \"Values which fall outside the range of breaks are coded as NA, as are NaN and NA values.\" so we've already reclassified the other values as NA. \n\n# this only gives us a list, not a dataframe, so I'll make a dataframe in the next step\n\n\n# vectorizing the blackout mask \nvectorized_mask &lt;- blackout_diff %&gt;% \n  st_as_sf() %&gt;% \n  st_make_valid() # fixing any invalid geometries\n\n# check to see if properly converted it to sf data.frame:\n# cat(\"Class of vectorized mask:\", class(vectorized_mask))\n\n\nNow that the blackout mask is vectorized, I want to move on to crop this mask to our region or area of interest: the Houston metropolitan area. Before I can jump to cropping, I need to define the area of interest, turn those coordinates into a polygon, convert that polygon into a simple feature collection, and project it into the same CRS as the mask.\nI’ll define the Houston metropolitan area with the following coordinates:\n(-96.5, 29), (-96.5, 30.5), (-94.5, 30.5), (-94.5, 29)\n\nThese are written as (xmin, ymin), (xmin, ymax), (xmax, ymax), and (xmax, ymin) – I like to think of this as how a rectangle would be plotted on a graph, and then applying that same logic to a Cartesian plane. I’ll turn these coordinates into a polygon using st_polygon. In the same line, I will convert the polygon into a simple feature collection using st_sfc() and assign a CRS. Because we are using this polygon to crop the night lights data, it needs the same CRS (EPSG:4326). After this step, I’ll convert both the polygon and the cropped mask to EPSG:3083.\n\n\nCode\n# following the structure outlined in Chapter 4 in the GeoComputation with R textbook...\n\n# using cbind to create 2 lists of x and y coordinates, with each of the 4 coordinates for our polygon taken out individually\nhouston_coords = cbind( \n  x = c(-96.5, -96.5, -94.5, -94.5, -96.5), # 1st, 2nd, 3rd, 4th, and back to 1st\n  y = c(29, 30.5, 30.5, 29, 29)) # 1st, 2nd, 3rd, 4th, and back to 1st to close the polygon\n\n\n# turning the polygon into a polygon and converting that polygon into an sf collection, \n# following the structure outlined in Chapter 4 of the Geocomputation with R textbook\nhouston_polygon = st_sfc(st_polygon(list(houston_coords)), # using the same syntax as the textbook\n                         crs = \"EPSG:4326\") # using the same CRS as the night lights dataset we checked earlier\n\n# check to see if the CRS match before moving on the rest of the question in the following chunk\n# print(paste(\"The CRS of the Houston polygon and our vectorized mask match:\", st_crs(houston_polygon) == st_crs(vectorized_mask)))\n\n\n# assigning new subset name to this cropped view of our nightlights data\nnightlights_cropped &lt;- st_crop(vectorized_mask,\n                               houston_polygon)\n\n\n# reprojecting the mask to EPSG:3083\nnightlights_transformed &lt;- st_transform(nightlights_cropped, # data we're reprojecting\n                                        crs = \"EPSG:3083\") # specifying the CRS\n\n# reprojecting the polygon to EPSG:3083 to use it in cropping and plotting later on\nhouston_polygon_3083 &lt;- st_transform(houston_polygon,\n                                     crs = st_crs(buildings))\n\n# viewing our cropped, transformed data:\n# plot(nightlights_transformed)"
  },
  {
    "objectID": "blog/texas-power-crisis/index.html#highways",
    "href": "blog/texas-power-crisis/index.html#highways",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "Highways",
    "text": "Highways\nExcluding highways from the blackout mask\nHighways – particularly traffic on highways – account for a significant portion of night light (observable from space!). I don’t want to include light coming from traffic on highways in my analysis, so I’ll use the roads data I loaded in previously. When I read in the data, I defined a SQL query to select just the highways (class “motorway”).\nThis highways data will serve as the guide for where to “cut out” areas in the blackout mask that are within 200m of highways. To do this, I first made sure that the data is in the same CRS (essential for geospatial data manipulation), then identify areas within 200 meters of all highways using st_buffer. This step alone will produce undissolved buffers, so I’ll use st_union() in that same step to dissolve them.\n\n\nCode\n# check to see if the crs of our two datasets match (they do, as I reprojected the highways, buildings, and census geometries data to EPSG:3083 when we read in the data initially)\n# cat(\"The CRS match:\", st_crs(highways) == st_crs(nightlights_transformed))\n\n# preliminary plot of highways to explore the data\n# plot(highways$geom, max.plot=1)\n# there are \"6085 observations of 11 variables\"...\n\n# creating a buffer zone 200m around highways\nhighways_buffer &lt;- st_buffer(highways,\n                             dist = 200) %&gt;% # specifying buffer distance, in meters\n                    st_union() # dissolving buffers\n\n# checking to see if this leaves us with just 1 layer\n# plot(highways_buffer)\n# it does!\n# viewing our nightlights data combined with the highways buffer\n# plot(nightlights_transformed, add = TRUE)\n\n\nNow we can use this buffer around the highways to exclude those areas from our blackout mask.\nThe reason I said “cut out” earlier is because I don’t want to preserve the geometries of the polygons that intersect with the highways buffer that I will create. To do this, I will use st_difference(), which will not preserve the geometries. I picture a cookie cutter when I think of this method.\n\n\nCode\n# finding areas that do not intersect with the buffer zone\n \n#thought process: use st_intersect, get binary predicate of T/F values for if polygons share geometries with road buffer zone, select ones that do not...\n\n# we don't necessarily want to preserve the original geometries, so it's okay to cut the nightlights data using our highways buffer as the \"cookie cutter\" \n\n# using st_difference to find all of the polygons in x (nightlights) not including (via cutting) the highways buffer geometries. \nblackout_no_road &lt;- st_difference(x = nightlights_transformed, y = highways_buffer)\n\n# plotting the areas that were \"impacted\" (farther than 200 m away from a road) by blackouts:\n# plot(blackout_no_road)\n\n\nAfter this ‘cookie cutter’ step, I can find the number of areas that experienced blackouts that are farther than 200 meters from a highway. This is what we’ll consider “impacted”, i.e., experienced a blackout, in this analysis.\n\n\nCode\n# displaying the number of polygons included after cutting out our buffered roads mask\ncat(\"There were\", nrow(blackout_no_road), \"areas farther than 200m from a highway that experienced a blackout.\\n\")\n\n\nThere were 7247 areas farther than 200m from a highway that experienced a blackout.\n\n\nCode\n# intuition check: did our previous mask contain the same number of observations?\n#cat(\"\\nDo our pre- and post-highway excluded masks contain the same number of observations?:\", nrow(nightlights_transformed) == nrow(blackout_no_road), \"\\n\")\n\n# showing the number of complete polygons that were eliminated during this cutout\n# diff_lengths &lt;- nrow(nightlights_transformed) - nrow(blackout_no_road)\n\n# cat(\"\\nThere were\", diff_lengths, \"areas within 200 meters of a road that experienced a blackout\")"
  },
  {
    "objectID": "blog/texas-power-crisis/index.html#homes",
    "href": "blog/texas-power-crisis/index.html#homes",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "Homes",
    "text": "Homes\nFinding homes impacted by blackouts\nUsing the buildings data that I read in and reprojected to CRS EPSG:3083 at the beginning of this process, we can find the number of homes that experienced blackouts on February 16th, 2021.\nAfter making sure that the CRS of our datasets match, I crop the buildings data to the area of interest, the Houston metropolitan area, using the reprojected bounding box from earlier. This step can speed up processing time before the next step of joining the buildings data and the cropped blackout mask.\n\n\nCode\n# check: let's see if the crs match (they should)\n# cat(\"The CRS of our datasets match:\", st_crs(highways) == st_crs(buildings))\n# returns TRUE\n\n# first limit buildings area to houston (crop)\n\n# cropping to Houston polygon:\n# note: this step can also take a few seconds\nbuildings_houston &lt;- st_crop(buildings,\n                               houston_polygon_3083)\n\n\nAfter cropping, I use st_intersects() to find which homes intersect with blackout areas, create a binary predicate of homes that do or do not intersect, and filter the buildings dataset to keep only the homes that do intersect (share geometries) with blackout areas. I can then count the number of impacted homes.\n\n\nCode\n# selecting buildings in houston that share geometries with blackout areas\nbuildings_intersect &lt;- st_intersects(x = buildings_houston,\n                                     y = blackout_no_road) # homes farther than 200m from a road\n\n# this returns the same number of rows\n#filtered_homes &lt;- st_filter(x = buildings_houston, y = nightlights_transformed)\n\n# using \"lengths\" to find the polygons that do not intersect (binary = 0) \nbuildings_in_blackout &lt;- lengths(buildings_intersect) &gt; 0\n\n\n# selecting the polygons within our buildings data that share geometries with blackout areas\nhomes_blackout &lt;- buildings[buildings_in_blackout, ] \n\n# count number of impacted homes: count number of homes in \"buildings\" dataset that share geometries (st_intersects) with blackout areas, use binary predicate and count total number of rows for where a condition (in blackout zone/do intersect) is met (=True)...\n\n# displaying the number of homes within areas that were impacted by blackouts\ncat(\"There were\", nrow(homes_blackout), \"homes within areas that experienced a blackout\")\n\n\nThere were 157410 homes within areas that experienced a blackout"
  },
  {
    "objectID": "blog/texas-power-crisis/index.html#median-income",
    "href": "blog/texas-power-crisis/index.html#median-income",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "Median Income",
    "text": "Median Income\nInvestigating socioeconomic factors\n\nClean ACS data\nThere are currently two ACS/census datasets in the environment now: texas_census, which contains the geometries layer, and income, which contains the income layer. For my analysis, I’m interested in the median income of households. The median income field is labeled B19013e1 in the income dataset, so I’ll select and rename that column to something more intuitive. I’ll also select the census tract geometry information (GEOID) and rename that to make it compatible for joining with the texas_census dataset.\n\n\nCode\n# there are conflicting \"select\" methods in the raster and tidyverse (dplyr) packages, so I'm specifying the `dplyr` method\n\n# also selecting the GEOID column here to make it easier to join later\nmedian_income &lt;- income %&gt;% dplyr::select(B19013e1, GEOID) %&gt;% # specifying dplyr package/library\n  rename(\"median_income\" = \"B19013e1\", # renaming to something more intuitive\n         \"GEOID_Data\" = \"GEOID\") # renaming to match `texas_census` column name\n\n\nThis is an important step because I’m essentially trying to join by census block group to investigate the possible relationship between socioeconomic status (median income of each census tract) and blackout status (impacted vs. un-impacted by blackouts) as a marker for ability to recover from the 2021 winter storm.\n\n\nDetermining which census tracts experienced blackouts\nBecause the income and thus median_income datasets do not have geometries associated with them, I can’t spatially join them. Instead, I’ll use dplyr’s left_join() to join the income data to the census tract geometries by census tract geometry ID. I will then spatially join the census tract data with buildings determined to be impacted by blackouts. Using this joined dataset, I can find which census tracts experienced blackouts.\n\n\nCode\n# joining the data, can't use a spatial join because income dataframe has no geometries, joining by the column that the two dataframes share\n\n# now we can join by the GEOID_Data column...\n# joining income data to census tract geometries\ncensus_income &lt;- left_join(texas_census, \n                         median_income, \n                         by = \"GEOID_Data\")\n\n# spatially joining census tract data (joined with median income column) with areas determined to be impacted by blackouts using st_join\nblackout_census &lt;- st_join(homes_blackout,\n                           census_income,\n                           left = TRUE) # performing a left join because we only want Houston area, and our homes_blackout data is already cut to Houston area\n# default op here is st_intersects\n\n\n# finding the number of unique census tracts in our joined dataframe\nn_census_impacted &lt;- length(unique(blackout_census$GEOID_Data))\n\ncat(\"There were\", n_census_impacted, \"census tracts impacted by blackouts in the Houston metropolitan area on February 16th, 2021.\")\n\n\nThere were 754 census tracts impacted by blackouts in the Houston metropolitan area on February 16th, 2021.\n\n\nCode\n# because we performed a left join with our blackout buildings data as our x and census income data as our y, our blackout-impacted geometries are the only ones we're keeping, so we now have a full dataset of only blackout-impacted geometries"
  },
  {
    "objectID": "blog/texas-power-crisis/index.html#mapping-blackout-status-median-income",
    "href": "blog/texas-power-crisis/index.html#mapping-blackout-status-median-income",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "Mapping blackout status & median income",
    "text": "Mapping blackout status & median income\nTo investigate the relationship between median income and blackout status per census tract, I crop the census tract data to the area of interest, create centroids in the census tracts that were impacted by blackouts, and map these onto a base layer of Houston census tracts colored by median income.\n\n\nCode\n# cropping to Houston polygon for plotting\nhouston_census_income &lt;- st_crop(census_income, houston_polygon_3083) \n\n# spatial selection of census tracts that experienced blackouts, using bracket selection and default st_intersects argument\ncensus_homes_cropped &lt;- census_income[homes_blackout, ] \n\n# making centroids to show which census tracts had blackouts\ncropped_centroids &lt;- st_centroid(census_homes_cropped) # using our dataset we got from the bracket-selection method and st_intersects between census + income data and buildings in blackout areas\n\n\nFor clearer visualization, I have two maps: one with the blackout status indicated by centroids, and the other with blackout status indicated by a red outline around the impacted tracts.\n\nCentroidsOutlines\n\n\n\n\nCode\n# now, let's plot it for real! (customizing the map to look more polished & informative)\n\n# we need a base layer of all of our census tracts in Houston\nmap_centroids &lt;- tm_shape(houston_census_income) + \n  tm_fill(fill = \"median_income\", # coloring the base layer polygons by median income\n              palette = \"-viridis\", # using inverted viridis palette so lower income tracts are darker and stand out more (felt more intuitive to have these be darker, and higher median income tracts be more green/yellow)\n              title = \"Median Income\") + # updating legend title\n  tm_shape(cropped_centroids) + # adding in centroids data\n  tm_dots(fill = \"red\", size = 0.05) +\n  tm_title(\"Blackout Status & Median Income by Census Tract in Houston (Feb 16, 2021)\") +\n  tm_scalebar(position = c(\"right\", \"bottom\")) + # scale bar,\n  tm_compass(type = \"8star\",  # I thought this compass style looked cool\n             position = c(\"left\", \"top\"),  # positioning the compass\n             size = 3) + # making compass smaller\n  tm_graticules(lwd = 0.5, alpha = 0.5) + # making my graticules thinner and less opaque so our data is more legible\n  tm_add_legend(type = \"dots\", # labeling my centroids on the map\n                labels = \"Impacted by Blackouts\",\n                fill = \"red\") +\n  # more plot layout cusomization \n  tm_layout(frame = FALSE,\n            title.size = 2,\n            legend.frame = FALSE,\n            legend.title.size = 1,\n            legend.width = 9)\n\n# viewing the map\nmap_centroids\n\n\n\n\n\n\n\n\n\nCode\nmap_borders &lt;- tm_shape(houston_census_income) + \n  tm_fill(fill = \"median_income\", # coloring the base layer polygons by median income\n              palette = \"-viridis\", # using inverted viridis palette so lower income tracts are darker and stand out more (felt more intuitive to have these be darker, and higher median income tracts be more green/yellow)\n              title = \"Median Income\") + # updating legend title\n  tm_shape(census_homes_cropped) + # adding in centroids data\n  tm_borders(col = \"red\", lwd = 0.4) + # any smaller and the lines are spotty\n  tm_title(\"Blackout Status & Median Income by Census Tract in Houston (Feb 16, 2021)\") +\n  tm_scalebar(position = c(\"right\", \"bottom\")) + # scale bar,\n  tm_compass(type = \"8star\",  # I thought this compass style looked cool\n             position = c(\"left\", \"top\"),  # positioning the compass\n             size = 3) + # making compass smaller\n  tm_graticules(lwd = 0.5, # making my graticules thinner \n                alpha = 0.5 # and less opaque so our data is more legible\n                #, col = \"white\"\n                ) + \n  tm_add_legend(type = \"borders\", # labeling my centroids on the map\n                labels = \"Impacted by Blackouts\",\n                fill = \"red\") +\n  tm_layout(frame = FALSE,\n            title.size = 2,\n            legend.frame = FALSE,\n            legend.title.size = 1,\n            legend.width = 9)\n\nmap_borders\n\n\n\n\n\n\n\n\nThere doesn’t seem to be a clear trend in socioeconomic status and blackout status. Let’s plot the distribution to investigate further:\n\nDistribution of median income by blackout status\nTo further visualize this relationship, I create subsets of impacted and unimpacted tracts and plot the distribution of median income below.\n\n\nCode\n# plot the distribution of income in impacted and un-impacted tracts\n\n# making two separate dataframes, filtering for & NOT for GEOID_Data (census tracts that are or are not impacted by blackouts) \n\n# filtering for census tracts IN HOUSTON that are impacted\nimpacted &lt;- houston_census_income %&gt;%  # using our census + income dataset cropped to the Houston polygon\n  filter(GEOID_Data %in% unique(blackout_census$GEOID_Data)) # keeping rows that have matching values in the list of unique GEOID_Data values from our blackout + census dataset. \n\n# filtering for census tracts in Houston that are NOT impacted\nunimpacted &lt;- houston_census_income %&gt;% \n  filter(!GEOID_Data %in% unique(blackout_census$GEOID_Data)) # selecting rows in the GEOID_Data column in our dataset that are NOT in the list of GEOID_Data values that are in our blackout-filtered dataset.\n\n\n# check: impacted census tracts should be the same number as the value we got before:\n# length(unique(blackout_census$GEOID_Data)) == nrow(impacted)\n# returns\n\n\n\n\nCode\n# mean_impacted_income &lt;- \n# using ggplot() and geom_histogram() to plot the distribution of income in impacted and unimpacted census tracts\nimpacted_plot &lt;- ggplot() +\n  geom_histogram(data = impacted, # using our filtered dataframe from the previous chunk\n                 aes(x = median_income),\n                 fill = \"black\", # fill = black for impacted by blackouts feels intuitive\n                 bins = 30) + # custom number of bins\n  ylim(0, 100) + # setting y limits to have a consistent scale across my plots\n  labs(title = \"Impacted by blackouts\",  # updating title\n       x = \"Median Income\", # and axes labels\n       y = \"Count\") +\n  theme_bw() # customizing theme\n\nunimpacted_plot &lt;- ggplot() +\n  geom_histogram(data = unimpacted, # using our filtered dataframe from the previous chunk\n                 aes(x = median_income),\n                 fill = \"gold\", # gold is more legible than yellow, indicates lack of blackout\n                 bins = 30) +\n  ylim(0, 100) + # setting y limits to have a consistent scale across my plots\n  labs(title = \"Un-impacted by blackouts\", # updating title\n       x = \"Median Income\", # and axes labels\n       y = \"Count\") +\n  theme_bw() # customizing theme\n\n# using patchwork to show the distributions side by side\nimpacted_plot + unimpacted_plot\n\n\n\n\n\n\n\nResults\nBased on these histograms, it is hard to see a notable difference between the distribution of median income per blackout group – impacted vs. un-impacted. This would suggest that residents in Houston were impacted by blackouts during the storm (at least on February 16th, 2021) regardless of the median income per census tract. The videos linked at the top of this analysis along with other reports on the blackout events during the extreme winter storms of early 2021 in Texas suggest that the energy/power infrastructure and distribution practices left the state of Texas unequipped for the extreme demands or loads brought on by the storm. These energy issues, coupled with infrastructure failures related to extreme, cold temperatures in a climate that does not regularly face these temperatures, such as water pipes bursting, caused the impacts of the winter storm to be severe. The dense aggregation of data around the lower median income range in the impacted group may indicate that though homes may have experienced blackouts equally, they would not be impacted equally, as the ability to recover from severe weather events and other impacts of climate change is related to socioeconomic status 3, 4.\n\n\nConclusion & Limitations\nThere are many limitations to this study at different levels. The first notable limitation is the light scaling difference between our “control” night lights data and our “test” or storm-impacted night lights data. In the preliminary images rendered, we can see that the scale of light intensity ranges much higher on the “storm” night, February 16th, 2021. Continuing on with our analysis of this data without adjusting our scales to match between the control and test groups may have led to areas that experienced blackouts being obscured by the overall “noise” or opacity of the brighter lights in that night’s data.\nOur ACS data is also a limitation of this study – it is from 2019, while the blackouts we’re analyzing were in 2021. In three years, a lot can change for individuals financially. Another limitation is that we are looking at residential buildings blackouts, not factoring in the number of “homes” or occupied apartments, for example, within an apartment building. There’s also the factor of how we buffered to remove areas within 200m of highways. This step could have potentially omitted areas with disproportionately lower income households.\nWe’re also not considering or quantifying the cost or burden of recovery from the event, which is where the socioeconomic level data becomes more meaningful. To claim that areas, later quantified as census tracts, which were further classified based on median income, were “impacted” or “un-impacted” based on the originally imperfect night lights data feels incomplete or dissatisfying to me. The weight of the term “impact” carries implications about the level of impact that individuals carry based on this blackout event, such as recovery factors. Lower-income individuals and households would likely be disproportionately impacted by the financial burdens of replacing damage caused by the storm or medical bills from any injuries or health issues related to the storm, for example 5, 6. The scope of this analysis is limited to the a day of clearer night light data (February 16th, 2021), which is temporally limiting as it might not be the height of the blackouts.\nBy not factoring in anything other than visible blackout status and median income of a census tract in these final visualizations (the map and histograms), it feels like we’ve barely scratched the surface of being able to grasp the severity and complexity of how the storms and subsequent blackouts truly impacted the residents of Houston, and the greater state of Texas. A possible next step in our exploration of data relating to the impacts of the blackouts in Houston could be to incorporate data about proximity to different types of energy sources or power distribution infrastructure, or bringing in some quantifiable cost of recovery. It has been almost three years since the event, and I hope to find more meaningful answers and visualize them in the future."
  },
  {
    "objectID": "blog/texas-power-crisis/index.html#sources",
    "href": "blog/texas-power-crisis/index.html#sources",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "Sources",
    "text": "Sources\nFothergill, A., & Peek, L. A. (2004). Poverty and disasters in the United States: A review of recent sociological findings. Natural Hazards, 32, 89–110.\nGeofabrik Download Server (2018). OpenStreetMap Data Extracts [Data file] Available from: https://download.geofabrik.de/ Access date: October 26, 2023.\nLin, N., King, C. W., Rhodes, J. D., & Zarnikau, J. (2021, July). The Timeline and Events of the February 2021 Texas Electric Grid Blackouts: A report by a committee of faculty and staff at The University of Texas at Austin. Retrieved from https://energy.utexas.edu/sites/default/files/UTAustin%20%282021%29%20EventsFebruary2021TexasBlackout%2020210714.pdf\nNASA Earth Data, Level-1 and Atmospheric Archive & Distribution System Distributed Active Archive Center (LAADS DAAC) [Data file] Available from: https://ladsweb.modaps.eosdis.nasa.gov/ Access date: October 26, 2023.\nSubstance Abuse and Mental Health Services Administration. (2017).Greater Impact: How Disasters Affect People of Low Socioeconomic Status. Disaster Technical Assistance Center Supplemental Research Bulletin, 4-13. https://www.samhsa.gov/sites/default/files/dtac/srb-low-ses_2.pdf.\nThe University of Texas at Austin. (2023). The Timeline and Events of the February 2021 Texas Electric Grid Blackouts. The University of Texas at Austin Energy Institute. https://energy.utexas.edu/research/ercot-blackout-2021\nUnited States Census Bureau (2019), American Community Survey [Data file] Available from: https://www.census.gov/programs-surveys/acs Access date: October 26, 2023."
  },
  {
    "objectID": "blog/texas-power-crisis/index.html#footnotes",
    "href": "blog/texas-power-crisis/index.html#footnotes",
    "title": "2021 Texas Power Crisis: Blackout Impact Analysis",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nWikipedia. (2021). “2021 Texas power crisis.” Last modified October 2, 2021. https://en.wikipedia.org/wiki/2021_Texas_power_crisis Access date: October 26, 2023.↩︎\nThe University of Texas at Austin. (2023). The Timeline and Events of the February 2021 Texas Electric Grid Blackouts. The University of Texas at Austin Energy Institute. Website. https://energy.utexas.edu/research/ercot-blackout-2021. Access date: December 17, 2023.↩︎\nFothergill, A., & Peek, L. A. (2004). Poverty and disasters in the United States: A review of recent sociological findings. Natural Hazards, 32, 89–110.↩︎\nSubstance Abuse and Mental Health Services Administration. (2017).Greater Impact: How Disasters Affect People of Low Socioeconomic Status. Disaster Technical Assistance Center Supplemental Research Bulletin, 4-13. https://www.samhsa.gov/sites/default/files/dtac/srb-low-ses_2.pdf.↩︎\nFothergill, A., & Peek, L. A. (2004). Poverty and disasters in the United States: A review of recent sociological findings. Natural Hazards, 32, 89–110.↩︎\nSubstance Abuse and Mental Health Services Administration. (2017).Greater Impact: How Disasters Affect People of Low Socioeconomic Status. Disaster Technical Assistance Center Supplemental Research Bulletin, 4-13. https://www.samhsa.gov/sites/default/files/dtac/srb-low-ses_2.pdf.↩︎"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Anna Ramji grew up hiking and fishing along the Eastern Sierra Nevada mountain range, where she developed an interest in ecology and the impacts of climate change on native ecosystems. During her time as an undergraduate at the University of California, Berkeley, she worked as a research assistant and laboratory manager at Caldwell Laboratory, studying stomatopods and several species of octopus. Anna enjoyed taking extra-curricular courses in Data Science, Japanese, French, and Urban Design. She earned her Bachelor of Science degree in Environmental Sciences with a dual focus in Biology and Chemistry, graduating with Honors in 2021. She has since worked to co-author a paper on body patterns of Octopus chierchiae with alumni from Caldwell Lab, which was published in PLOS One in April, 2023. Her interest in data science – particularly data visualization as a powerful tool for scientific communication – drew her to take additional courses in Python and R, and teach herself JavaScript to use Observable Notebooks. As a MEDS graduate student, she hopes to combine her expertise in environmental issues with her passion for data science and visualization to become an enthusiastic and inclusive scientific communicator in future roles. She is interested in working with ecological data, clean energy, and agroecology."
  },
  {
    "objectID": "about.html#about-anna",
    "href": "about.html#about-anna",
    "title": "About",
    "section": "",
    "text": "Anna Ramji grew up hiking and fishing along the Eastern Sierra Nevada mountain range, where she developed an interest in ecology and the impacts of climate change on native ecosystems. During her time as an undergraduate at the University of California, Berkeley, she worked as a research assistant and laboratory manager at Caldwell Laboratory, studying stomatopods and several species of octopus. Anna enjoyed taking extra-curricular courses in Data Science, Japanese, French, and Urban Design. She earned her Bachelor of Science degree in Environmental Sciences with a dual focus in Biology and Chemistry, graduating with Honors in 2021. She has since worked to co-author a paper on body patterns of Octopus chierchiae with alumni from Caldwell Lab, which was published in PLOS One in April, 2023. Her interest in data science – particularly data visualization as a powerful tool for scientific communication – drew her to take additional courses in Python and R, and teach herself JavaScript to use Observable Notebooks. As a MEDS graduate student, she hopes to combine her expertise in environmental issues with her passion for data science and visualization to become an enthusiastic and inclusive scientific communicator in future roles. She is interested in working with ecological data, clean energy, and agroecology."
  },
  {
    "objectID": "about.html#education",
    "href": "about.html#education",
    "title": "About",
    "section": "Education:",
    "text": "Education:\nMaster of Environmental Data Science, University of California, Santa Barbara (2024)\nB.S. Environmental Sciences, University of California, Berkeley (2021)"
  }
]